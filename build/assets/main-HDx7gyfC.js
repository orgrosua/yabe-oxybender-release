var lo=Object.defineProperty;var co=(r,e,t)=>e in r?lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var p=(r,e,t)=>(co(r,typeof e!="symbol"?e+"":e,t),t);import{_ as Ut,l as uo}from"./oxygen_editor-C1-WFH-Y.js";import{K as Hr,w as fo,q as yt}from"./runtime-core.esm-bundler-CcdWNRfo.js";var Z="top",se="bottom",ae="right",ee="left",Un="auto",Tt=[Z,se,ae,ee],Je="start",bt="end",ho="clippingParents",zr="viewport",ut="popper",po="reference",ir=Tt.reduce(function(r,e){return r.concat([e+"-"+Je,e+"-"+bt])},[]),qr=[].concat(Tt,[Un]).reduce(function(r,e){return r.concat([e,e+"-"+Je,e+"-"+bt])},[]),go="beforeRead",mo="read",vo="afterRead",yo="beforeMain",bo="main",wo="afterMain",Co="beforeWrite",_o="write",So="afterWrite",xo=[go,mo,vo,yo,bo,wo,Co,_o,So];function ye(r){return r?(r.nodeName||"").toLowerCase():null}function re(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function je(r){var e=re(r).Element;return r instanceof e||r instanceof Element}function oe(r){var e=re(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function Gn(r){if(typeof ShadowRoot>"u")return!1;var e=re(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function To(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!oe(o)||!ye(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function Eo(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),l=s.reduce(function(a,c){return a[c]="",a},{});!oe(i)||!ye(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(a){i.removeAttribute(a)}))})}}const Vr={name:"applyStyles",enabled:!0,phase:"write",fn:To,effect:Eo,requires:["computeStyles"]};function ve(r){return r.split("-")[0]}var Be=Math.max,Jt=Math.min,Ze=Math.round;function Rn(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Kr(){return!/^((?!chrome|android).)*safari/i.test(Rn())}function et(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=r.getBoundingClientRect(),i=1,o=1;e&&oe(r)&&(i=r.offsetWidth>0&&Ze(n.width)/r.offsetWidth||1,o=r.offsetHeight>0&&Ze(n.height)/r.offsetHeight||1);var s=je(r)?re(r):window,l=s.visualViewport,a=!Kr()&&t,c=(n.left+(a&&l?l.offsetLeft:0))/i,u=(n.top+(a&&l?l.offsetTop:0))/o,h=n.width/i,f=n.height/o;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function Wn(r){var e=et(r),t=r.offsetWidth,n=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:n}}function Yr(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&Gn(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Te(r){return re(r).getComputedStyle(r)}function Ao(r){return["table","td","th"].indexOf(ye(r))>=0}function Re(r){return((je(r)?r.ownerDocument:r.document)||window.document).documentElement}function hn(r){return ye(r)==="html"?r:r.assignedSlot||r.parentNode||(Gn(r)?r.host:null)||Re(r)}function or(r){return!oe(r)||Te(r).position==="fixed"?null:r.offsetParent}function Ro(r){var e=/firefox/i.test(Rn()),t=/Trident/i.test(Rn());if(t&&oe(r)){var n=Te(r);if(n.position==="fixed")return null}var i=hn(r);for(Gn(i)&&(i=i.host);oe(i)&&["html","body"].indexOf(ye(i))<0;){var o=Te(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Et(r){for(var e=re(r),t=or(r);t&&Ao(t)&&Te(t).position==="static";)t=or(t);return t&&(ye(t)==="html"||ye(t)==="body"&&Te(t).position==="static")?e:t||Ro(r)||e}function Hn(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function dt(r,e,t){return Be(r,Jt(e,t))}function Oo(r,e,t){var n=dt(r,e,t);return n>t?t:n}function Xr(){return{top:0,right:0,bottom:0,left:0}}function Qr(r){return Object.assign({},Xr(),r)}function Jr(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var Lo=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Qr(typeof e!="number"?e:Jr(e,Tt))};function ko(r){var e,t=r.state,n=r.name,i=r.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,l=ve(t.placement),a=Hn(l),c=[ee,ae].indexOf(l)>=0,u=c?"height":"width";if(!(!o||!s)){var h=Lo(i.padding,t),f=Wn(o),g=a==="y"?Z:ee,m=a==="y"?se:ae,v=t.rects.reference[u]+t.rects.reference[a]-s[a]-t.rects.popper[u],y=s[a]-t.rects.reference[a],w=Et(o),S=w?a==="y"?w.clientHeight||0:w.clientWidth||0:0,E=v/2-y/2,d=h[g],x=S-f[u]-h[m],C=S/2-f[u]/2+E,O=dt(d,C,x),k=a;t.modifiersData[n]=(e={},e[k]=O,e.centerOffset=O-C,e)}}function No(r){var e=r.state,t=r.options,n=t.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Yr(e.elements.popper,i)&&(e.elements.arrow=i))}const Po={name:"arrow",enabled:!0,phase:"main",fn:ko,effect:No,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tt(r){return r.split("-")[1]}var Io={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mo(r,e){var t=r.x,n=r.y,i=e.devicePixelRatio||1;return{x:Ze(t*i)/i||0,y:Ze(n*i)/i||0}}function sr(r){var e,t=r.popper,n=r.popperRect,i=r.placement,o=r.variation,s=r.offsets,l=r.position,a=r.gpuAcceleration,c=r.adaptive,u=r.roundOffsets,h=r.isFixed,f=s.x,g=f===void 0?0:f,m=s.y,v=m===void 0?0:m,y=typeof u=="function"?u({x:g,y:v}):{x:g,y:v};g=y.x,v=y.y;var w=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),E=ee,d=Z,x=window;if(c){var C=Et(t),O="clientHeight",k="clientWidth";if(C===re(t)&&(C=Re(t),Te(C).position!=="static"&&l==="absolute"&&(O="scrollHeight",k="scrollWidth")),C=C,i===Z||(i===ee||i===ae)&&o===bt){d=se;var A=h&&C===x&&x.visualViewport?x.visualViewport.height:C[O];v-=A-n.height,v*=a?1:-1}if(i===ee||(i===Z||i===se)&&o===bt){E=ae;var N=h&&C===x&&x.visualViewport?x.visualViewport.width:C[k];g-=N-n.width,g*=a?1:-1}}var B=Object.assign({position:l},c&&Io),D=u===!0?Mo({x:g,y:v},re(t)):{x:g,y:v};if(g=D.x,v=D.y,a){var I;return Object.assign({},B,(I={},I[d]=S?"0":"",I[E]=w?"0":"",I.transform=(x.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",I))}return Object.assign({},B,(e={},e[d]=S?v+"px":"",e[E]=w?g+"px":"",e.transform="",e))}function Do(r){var e=r.state,t=r.options,n=t.gpuAcceleration,i=n===void 0?!0:n,o=t.adaptive,s=o===void 0?!0:o,l=t.roundOffsets,a=l===void 0?!0:l,c={placement:ve(e.placement),variation:tt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,sr(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,sr(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Bo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Do,data:{}};var Gt={passive:!0};function Fo(r){var e=r.state,t=r.instance,n=r.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,l=s===void 0?!0:s,a=re(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",t.update,Gt)}),l&&a.addEventListener("resize",t.update,Gt),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",t.update,Gt)}),l&&a.removeEventListener("resize",t.update,Gt)}}const jo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Fo,data:{}};var $o={left:"right",right:"left",bottom:"top",top:"bottom"};function Xt(r){return r.replace(/left|right|bottom|top/g,function(e){return $o[e]})}var Uo={start:"end",end:"start"};function ar(r){return r.replace(/start|end/g,function(e){return Uo[e]})}function zn(r){var e=re(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function qn(r){return et(Re(r)).left+zn(r).scrollLeft}function Go(r,e){var t=re(r),n=Re(r),i=t.visualViewport,o=n.clientWidth,s=n.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;var c=Kr();(c||!c&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l+qn(r),y:a}}function Wo(r){var e,t=Re(r),n=zn(r),i=(e=r.ownerDocument)==null?void 0:e.body,o=Be(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Be(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-n.scrollLeft+qn(r),a=-n.scrollTop;return Te(i||t).direction==="rtl"&&(l+=Be(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:a}}function Vn(r){var e=Te(r),t=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+n)}function Zr(r){return["html","body","#document"].indexOf(ye(r))>=0?r.ownerDocument.body:oe(r)&&Vn(r)?r:Zr(hn(r))}function pt(r,e){var t;e===void 0&&(e=[]);var n=Zr(r),i=n===((t=r.ownerDocument)==null?void 0:t.body),o=re(n),s=i?[o].concat(o.visualViewport||[],Vn(n)?n:[]):n,l=e.concat(s);return i?l:l.concat(pt(hn(s)))}function On(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Ho(r,e){var t=et(r,!1,e==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function lr(r,e,t){return e===zr?On(Go(r,t)):je(e)?Ho(e,t):On(Wo(Re(r)))}function zo(r){var e=pt(hn(r)),t=["absolute","fixed"].indexOf(Te(r).position)>=0,n=t&&oe(r)?Et(r):r;return je(n)?e.filter(function(i){return je(i)&&Yr(i,n)&&ye(i)!=="body"}):[]}function qo(r,e,t,n){var i=e==="clippingParents"?zo(r):[].concat(e),o=[].concat(i,[t]),s=o[0],l=o.reduce(function(a,c){var u=lr(r,c,n);return a.top=Be(u.top,a.top),a.right=Jt(u.right,a.right),a.bottom=Jt(u.bottom,a.bottom),a.left=Be(u.left,a.left),a},lr(r,s,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ei(r){var e=r.reference,t=r.element,n=r.placement,i=n?ve(n):null,o=n?tt(n):null,s=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,a;switch(i){case Z:a={x:s,y:e.y-t.height};break;case se:a={x:s,y:e.y+e.height};break;case ae:a={x:e.x+e.width,y:l};break;case ee:a={x:e.x-t.width,y:l};break;default:a={x:e.x,y:e.y}}var c=i?Hn(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Je:a[c]=a[c]-(e[u]/2-t[u]/2);break;case bt:a[c]=a[c]+(e[u]/2-t[u]/2);break}}return a}function wt(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=n===void 0?r.placement:n,o=t.strategy,s=o===void 0?r.strategy:o,l=t.boundary,a=l===void 0?ho:l,c=t.rootBoundary,u=c===void 0?zr:c,h=t.elementContext,f=h===void 0?ut:h,g=t.altBoundary,m=g===void 0?!1:g,v=t.padding,y=v===void 0?0:v,w=Qr(typeof y!="number"?y:Jr(y,Tt)),S=f===ut?po:ut,E=r.rects.popper,d=r.elements[m?S:f],x=qo(je(d)?d:d.contextElement||Re(r.elements.popper),a,u,s),C=et(r.elements.reference),O=ei({reference:C,element:E,strategy:"absolute",placement:i}),k=On(Object.assign({},E,O)),A=f===ut?k:C,N={top:x.top-A.top+w.top,bottom:A.bottom-x.bottom+w.bottom,left:x.left-A.left+w.left,right:A.right-x.right+w.right},B=r.modifiersData.offset;if(f===ut&&B){var D=B[i];Object.keys(N).forEach(function(I){var $=[ae,se].indexOf(I)>=0?1:-1,te=[Z,se].indexOf(I)>=0?"y":"x";N[I]+=D[te]*$})}return N}function Vo(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=t.boundary,o=t.rootBoundary,s=t.padding,l=t.flipVariations,a=t.allowedAutoPlacements,c=a===void 0?qr:a,u=tt(n),h=u?l?ir:ir.filter(function(m){return tt(m)===u}):Tt,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var g=f.reduce(function(m,v){return m[v]=wt(r,{placement:v,boundary:i,rootBoundary:o,padding:s})[ve(v)],m},{});return Object.keys(g).sort(function(m,v){return g[m]-g[v]})}function Ko(r){if(ve(r)===Un)return[];var e=Xt(r);return[ar(r),e,ar(e)]}function Yo(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,l=s===void 0?!0:s,a=t.fallbackPlacements,c=t.padding,u=t.boundary,h=t.rootBoundary,f=t.altBoundary,g=t.flipVariations,m=g===void 0?!0:g,v=t.allowedAutoPlacements,y=e.options.placement,w=ve(y),S=w===y,E=a||(S||!m?[Xt(y)]:Ko(y)),d=[y].concat(E).reduce(function(be,ce){return be.concat(ve(ce)===Un?Vo(e,{placement:ce,boundary:u,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:v}):ce)},[]),x=e.rects.reference,C=e.rects.popper,O=new Map,k=!0,A=d[0],N=0;N<d.length;N++){var B=d[N],D=ve(B),I=tt(B)===Je,$=[Z,se].indexOf(D)>=0,te=$?"width":"height",q=wt(e,{placement:B,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),V=$?I?ae:ee:I?se:Z;x[te]>C[te]&&(V=Xt(V));var H=Xt(V),de=[];if(o&&de.push(q[D]<=0),l&&de.push(q[V]<=0,q[H]<=0),de.every(function(be){return be})){A=B,k=!1;break}O.set(B,de)}if(k)for(var pe=m?3:1,Oe=function(ce){var we=d.find(function(We){var Ce=O.get(We);if(Ce)return Ce.slice(0,ce).every(function(He){return He})});if(we)return A=we,"break"},ge=pe;ge>0;ge--){var Le=Oe(ge);if(Le==="break")break}e.placement!==A&&(e.modifiersData[n]._skip=!0,e.placement=A,e.reset=!0)}}const Xo={name:"flip",enabled:!0,phase:"main",fn:Yo,requiresIfExists:["offset"],data:{_skip:!1}};function cr(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function ur(r){return[Z,ae,se,ee].some(function(e){return r[e]>=0})}function Qo(r){var e=r.state,t=r.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=wt(e,{elementContext:"reference"}),l=wt(e,{altBoundary:!0}),a=cr(s,n),c=cr(l,i,o),u=ur(a),h=ur(c);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Jo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qo};function Zo(r,e,t){var n=ve(r),i=[ee,Z].indexOf(n)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[ee,ae].indexOf(n)>=0?{x:l,y:s}:{x:s,y:l}}function es(r){var e=r.state,t=r.options,n=r.name,i=t.offset,o=i===void 0?[0,0]:i,s=qr.reduce(function(u,h){return u[h]=Zo(h,e.rects,o),u},{}),l=s[e.placement],a=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}const ts={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:es};function ns(r){var e=r.state,t=r.name;e.modifiersData[t]=ei({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const rs={name:"popperOffsets",enabled:!0,phase:"read",fn:ns,data:{}};function is(r){return r==="x"?"y":"x"}function os(r){var e=r.state,t=r.options,n=r.name,i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,l=s===void 0?!1:s,a=t.boundary,c=t.rootBoundary,u=t.altBoundary,h=t.padding,f=t.tether,g=f===void 0?!0:f,m=t.tetherOffset,v=m===void 0?0:m,y=wt(e,{boundary:a,rootBoundary:c,padding:h,altBoundary:u}),w=ve(e.placement),S=tt(e.placement),E=!S,d=Hn(w),x=is(d),C=e.modifiersData.popperOffsets,O=e.rects.reference,k=e.rects.popper,A=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,N=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(C){if(o){var I,$=d==="y"?Z:ee,te=d==="y"?se:ae,q=d==="y"?"height":"width",V=C[d],H=V+y[$],de=V-y[te],pe=g?-k[q]/2:0,Oe=S===Je?O[q]:k[q],ge=S===Je?-k[q]:-O[q],Le=e.elements.arrow,be=g&&Le?Wn(Le):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Xr(),we=ce[$],We=ce[te],Ce=dt(0,O[q],be[q]),He=E?O[q]/2-pe-Ce-we-N.mainAxis:Oe-Ce-we-N.mainAxis,Ee=E?-O[q]/2+pe+Ce+We+N.mainAxis:ge+Ce+We+N.mainAxis,ze=e.elements.arrow&&Et(e.elements.arrow),Lt=ze?d==="y"?ze.clientTop||0:ze.clientLeft||0:0,ot=(I=B==null?void 0:B[d])!=null?I:0,kt=V+He-ot-Lt,Nt=V+Ee-ot,st=dt(g?Jt(H,kt):H,V,g?Be(de,Nt):de);C[d]=st,D[d]=st-V}if(l){var at,Pt=d==="x"?Z:ee,It=d==="x"?se:ae,_e=C[x],Ae=x==="y"?"height":"width",lt=_e+y[Pt],ke=_e-y[It],ct=[Z,ee].indexOf(w)!==-1,Mt=(at=B==null?void 0:B[x])!=null?at:0,Dt=ct?lt:_e-O[Ae]-k[Ae]-Mt+N.altAxis,Bt=ct?_e+O[Ae]+k[Ae]-Mt-N.altAxis:ke,Ft=g&&ct?Oo(Dt,_e,Bt):dt(g?Dt:lt,_e,g?Bt:ke);C[x]=Ft,D[x]=Ft-_e}e.modifiersData[n]=D}}const ss={name:"preventOverflow",enabled:!0,phase:"main",fn:os,requiresIfExists:["offset"]};function as(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function ls(r){return r===re(r)||!oe(r)?zn(r):as(r)}function cs(r){var e=r.getBoundingClientRect(),t=Ze(e.width)/r.offsetWidth||1,n=Ze(e.height)/r.offsetHeight||1;return t!==1||n!==1}function us(r,e,t){t===void 0&&(t=!1);var n=oe(e),i=oe(e)&&cs(e),o=Re(e),s=et(r,i,t),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!t)&&((ye(e)!=="body"||Vn(o))&&(l=ls(e)),oe(e)?(a=et(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):o&&(a.x=qn(o))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function fs(r){var e=new Map,t=new Set,n=[];r.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!t.has(l)){var a=e.get(l);a&&i(a)}}),n.push(o)}return r.forEach(function(o){t.has(o.name)||i(o)}),n}function hs(r){var e=fs(r);return xo.reduce(function(t,n){return t.concat(e.filter(function(i){return i.phase===n}))},[])}function ds(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function ps(r){var e=r.reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var fr={placement:"bottom",modifiers:[],strategy:"absolute"};function hr(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function gs(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?fr:i;return function(l,a,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},fr,o),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},h=[],f=!1,g={state:u,setOptions:function(w){var S=typeof w=="function"?w(u.options):w;v(),u.options=Object.assign({},o,u.options,S),u.scrollParents={reference:je(l)?pt(l):l.contextElement?pt(l.contextElement):[],popper:pt(a)};var E=hs(ps([].concat(n,u.options.modifiers)));return u.orderedModifiers=E.filter(function(d){return d.enabled}),m(),g.update()},forceUpdate:function(){if(!f){var w=u.elements,S=w.reference,E=w.popper;if(hr(S,E)){u.rects={reference:us(S,Et(E),u.options.strategy==="fixed"),popper:Wn(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var d=0;d<u.orderedModifiers.length;d++){if(u.reset===!0){u.reset=!1,d=-1;continue}var x=u.orderedModifiers[d],C=x.fn,O=x.options,k=O===void 0?{}:O,A=x.name;typeof C=="function"&&(u=C({state:u,options:k,name:A,instance:g})||u)}}}},update:ds(function(){return new Promise(function(y){g.forceUpdate(),y(u)})}),destroy:function(){v(),f=!0}};if(!hr(l,a))return g;g.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var w=y.name,S=y.options,E=S===void 0?{}:S,d=y.effect;if(typeof d=="function"){var x=d({state:u,name:w,instance:g,options:E}),C=function(){};h.push(x||C)}})}function v(){h.forEach(function(y){return y()}),h=[]}return g}}var ms=[jo,rs,Bo,Vr,ts,Xo,ss,Po,Jo],vs=gs({defaultModifiers:ms}),ys="tippy-box",ti="tippy-content",bs="tippy-backdrop",ni="tippy-arrow",ri="tippy-svg-arrow",Pe={passive:!0,capture:!0},ii=function(){return document.body};function yn(r,e,t){if(Array.isArray(r)){var n=r[e];return n??(Array.isArray(t)?t[e]:t)}return r}function Kn(r,e){var t={}.toString.call(r);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function oi(r,e){return typeof r=="function"?r.apply(void 0,e):r}function dr(r,e){if(e===0)return r;var t;return function(n){clearTimeout(t),t=setTimeout(function(){r(n)},e)}}function ws(r){return r.split(/\s+/).filter(Boolean)}function Ke(r){return[].concat(r)}function pr(r,e){r.indexOf(e)===-1&&r.push(e)}function Cs(r){return r.filter(function(e,t){return r.indexOf(e)===t})}function _s(r){return r.split("-")[0]}function Zt(r){return[].slice.call(r)}function gr(r){return Object.keys(r).reduce(function(e,t){return r[t]!==void 0&&(e[t]=r[t]),e},{})}function gt(){return document.createElement("div")}function dn(r){return["Element","Fragment"].some(function(e){return Kn(r,e)})}function Ss(r){return Kn(r,"NodeList")}function si(r){return Kn(r,"MouseEvent")}function xs(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function Ts(r){return dn(r)?[r]:Ss(r)?Zt(r):Array.isArray(r)?r:Zt(document.querySelectorAll(r))}function bn(r,e){r.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function mr(r,e){r.forEach(function(t){t&&t.setAttribute("data-state",e)})}function ai(r){var e,t=Ke(r),n=t[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function Es(r,e){var t=e.clientX,n=e.clientY;return r.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,a=l.interactiveBorder,c=_s(s.placement),u=s.modifiersData.offset;if(!u)return!0;var h=c==="bottom"?u.top.y:0,f=c==="top"?u.bottom.y:0,g=c==="right"?u.left.x:0,m=c==="left"?u.right.x:0,v=o.top-n+h>a,y=n-o.bottom-f>a,w=o.left-t+g>a,S=t-o.right-m>a;return v||y||w||S})}function wn(r,e,t){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){r[n](i,t)})}function vr(r,e){for(var t=e;t;){var n;if(r.contains(t))return!0;t=t.getRootNode==null||(n=t.getRootNode())==null?void 0:n.host}return!1}var me={isTouch:!1},yr=0;function As(){me.isTouch||(me.isTouch=!0,window.performance&&document.addEventListener("mousemove",li))}function li(){var r=performance.now();r-yr<20&&(me.isTouch=!1,document.removeEventListener("mousemove",li)),yr=r}function Rs(){var r=document.activeElement;if(xs(r)){var e=r._tippy;r.blur&&!e.state.isVisible&&r.blur()}}function Os(){document.addEventListener("touchstart",As,Pe),window.addEventListener("blur",Rs)}var Ls=typeof window<"u"&&typeof document<"u",ks=Ls?!!window.msCrypto:!1,Ns={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},fe=Object.assign({appendTo:ii,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ns,Ps),Is=Object.keys(fe),Ms=function(e){var t=Object.keys(e);t.forEach(function(n){fe[n]=e[n]})};function ci(r){var e=r.plugins||[],t=e.reduce(function(n,i){var o=i.name,s=i.defaultValue;if(o){var l;n[o]=r[o]!==void 0?r[o]:(l=fe[o])!=null?l:s}return n},{});return Object.assign({},r,t)}function Ds(r,e){var t=e?Object.keys(ci(Object.assign({},fe,{plugins:e}))):Is,n=t.reduce(function(i,o){var s=(r.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return n}function br(r,e){var t=Object.assign({},e,{content:oi(e.content,[r])},e.ignoreAttributes?{}:Ds(r,e.plugins));return t.aria=Object.assign({},fe.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var Bs=function(){return"innerHTML"};function Ln(r,e){r[Bs()]=e}function wr(r){var e=gt();return r===!0?e.className=ni:(e.className=ri,dn(r)?e.appendChild(r):Ln(e,r)),e}function Cr(r,e){dn(e.content)?(Ln(r,""),r.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Ln(r,e.content):r.textContent=e.content)}function kn(r){var e=r.firstElementChild,t=Zt(e.children);return{box:e,content:t.find(function(n){return n.classList.contains(ti)}),arrow:t.find(function(n){return n.classList.contains(ni)||n.classList.contains(ri)}),backdrop:t.find(function(n){return n.classList.contains(bs)})}}function ui(r){var e=gt(),t=gt();t.className=ys,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var n=gt();n.className=ti,n.setAttribute("data-state","hidden"),Cr(n,r.props),e.appendChild(t),t.appendChild(n),i(r.props,r.props);function i(o,s){var l=kn(e),a=l.box,c=l.content,u=l.arrow;s.theme?a.setAttribute("data-theme",s.theme):a.removeAttribute("data-theme"),typeof s.animation=="string"?a.setAttribute("data-animation",s.animation):a.removeAttribute("data-animation"),s.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?a.setAttribute("role",s.role):a.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Cr(c,r.props),s.arrow?u?o.arrow!==s.arrow&&(a.removeChild(u),a.appendChild(wr(s.arrow))):a.appendChild(wr(s.arrow)):u&&a.removeChild(u)}return{popper:e,onUpdate:i}}ui.$$tippy=!0;var Fs=1,Wt=[],Cn=[];function js(r,e){var t=br(r,Object.assign({},fe,ci(gr(e)))),n,i,o,s=!1,l=!1,a=!1,c=!1,u,h,f,g=[],m=dr(kt,t.interactiveDebounce),v,y=Fs++,w=null,S=Cs(t.plugins),E={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},d={id:y,reference:r,popper:gt(),popperInstance:w,props:t,state:E,plugins:S,clearDelayTimeouts:Dt,setProps:Bt,setContent:Ft,show:no,hide:ro,hideWithInteractivity:io,enable:ct,disable:Mt,unmount:oo,destroy:so};if(!t.render)return d;var x=t.render(d),C=x.popper,O=x.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+d.id,d.popper=C,r._tippy=d,C._tippy=d;var k=S.map(function(b){return b.fn(d)}),A=r.hasAttribute("aria-expanded");return ze(),pe(),V(),H("onCreate",[d]),t.showOnCreate&&lt(),C.addEventListener("mouseenter",function(){d.props.interactive&&d.state.isVisible&&d.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){d.props.interactive&&d.props.trigger.indexOf("mouseenter")>=0&&$().addEventListener("mousemove",m)}),d;function N(){var b=d.props.touch;return Array.isArray(b)?b:[b,0]}function B(){return N()[0]==="hold"}function D(){var b;return!!((b=d.props.render)!=null&&b.$$tippy)}function I(){return v||r}function $(){var b=I().parentNode;return b?ai(b):document}function te(){return kn(C)}function q(b){return d.state.isMounted&&!d.state.isVisible||me.isTouch||u&&u.type==="focus"?0:yn(d.props.delay,b?0:1,fe.delay)}function V(b){b===void 0&&(b=!1),C.style.pointerEvents=d.props.interactive&&!b?"":"none",C.style.zIndex=""+d.props.zIndex}function H(b,T,R){if(R===void 0&&(R=!0),k.forEach(function(P){P[b]&&P[b].apply(P,T)}),R){var M;(M=d.props)[b].apply(M,T)}}function de(){var b=d.props.aria;if(b.content){var T="aria-"+b.content,R=C.id,M=Ke(d.props.triggerTarget||r);M.forEach(function(P){var K=P.getAttribute(T);if(d.state.isVisible)P.setAttribute(T,K?K+" "+R:R);else{var ie=K&&K.replace(R,"").trim();ie?P.setAttribute(T,ie):P.removeAttribute(T)}})}}function pe(){if(!(A||!d.props.aria.expanded)){var b=Ke(d.props.triggerTarget||r);b.forEach(function(T){d.props.interactive?T.setAttribute("aria-expanded",d.state.isVisible&&T===I()?"true":"false"):T.removeAttribute("aria-expanded")})}}function Oe(){$().removeEventListener("mousemove",m),Wt=Wt.filter(function(b){return b!==m})}function ge(b){if(!(me.isTouch&&(a||b.type==="mousedown"))){var T=b.composedPath&&b.composedPath()[0]||b.target;if(!(d.props.interactive&&vr(C,T))){if(Ke(d.props.triggerTarget||r).some(function(R){return vr(R,T)})){if(me.isTouch||d.state.isVisible&&d.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[d,b]);d.props.hideOnClick===!0&&(d.clearDelayTimeouts(),d.hide(),l=!0,setTimeout(function(){l=!1}),d.state.isMounted||we())}}}function Le(){a=!0}function be(){a=!1}function ce(){var b=$();b.addEventListener("mousedown",ge,!0),b.addEventListener("touchend",ge,Pe),b.addEventListener("touchstart",be,Pe),b.addEventListener("touchmove",Le,Pe)}function we(){var b=$();b.removeEventListener("mousedown",ge,!0),b.removeEventListener("touchend",ge,Pe),b.removeEventListener("touchstart",be,Pe),b.removeEventListener("touchmove",Le,Pe)}function We(b,T){He(b,function(){!d.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&T()})}function Ce(b,T){He(b,T)}function He(b,T){var R=te().box;function M(P){P.target===R&&(wn(R,"remove",M),T())}if(b===0)return T();wn(R,"remove",h),wn(R,"add",M),h=M}function Ee(b,T,R){R===void 0&&(R=!1);var M=Ke(d.props.triggerTarget||r);M.forEach(function(P){P.addEventListener(b,T,R),g.push({node:P,eventType:b,handler:T,options:R})})}function ze(){B()&&(Ee("touchstart",ot,{passive:!0}),Ee("touchend",Nt,{passive:!0})),ws(d.props.trigger).forEach(function(b){if(b!=="manual")switch(Ee(b,ot),b){case"mouseenter":Ee("mouseleave",Nt);break;case"focus":Ee(ks?"focusout":"blur",st);break;case"focusin":Ee("focusout",st);break}})}function Lt(){g.forEach(function(b){var T=b.node,R=b.eventType,M=b.handler,P=b.options;T.removeEventListener(R,M,P)}),g=[]}function ot(b){var T,R=!1;if(!(!d.state.isEnabled||at(b)||l)){var M=((T=u)==null?void 0:T.type)==="focus";u=b,v=b.currentTarget,pe(),!d.state.isVisible&&si(b)&&Wt.forEach(function(P){return P(b)}),b.type==="click"&&(d.props.trigger.indexOf("mouseenter")<0||s)&&d.props.hideOnClick!==!1&&d.state.isVisible?R=!0:lt(b),b.type==="click"&&(s=!R),R&&!M&&ke(b)}}function kt(b){var T=b.target,R=I().contains(T)||C.contains(T);if(!(b.type==="mousemove"&&R)){var M=Ae().concat(C).map(function(P){var K,ie=P._tippy,qe=(K=ie.popperInstance)==null?void 0:K.state;return qe?{popperRect:P.getBoundingClientRect(),popperState:qe,props:t}:null}).filter(Boolean);Es(M,b)&&(Oe(),ke(b))}}function Nt(b){var T=at(b)||d.props.trigger.indexOf("click")>=0&&s;if(!T){if(d.props.interactive){d.hideWithInteractivity(b);return}ke(b)}}function st(b){d.props.trigger.indexOf("focusin")<0&&b.target!==I()||d.props.interactive&&b.relatedTarget&&C.contains(b.relatedTarget)||ke(b)}function at(b){return me.isTouch?B()!==b.type.indexOf("touch")>=0:!1}function Pt(){It();var b=d.props,T=b.popperOptions,R=b.placement,M=b.offset,P=b.getReferenceClientRect,K=b.moveTransition,ie=D()?kn(C).arrow:null,qe=P?{getBoundingClientRect:P,contextElement:P.contextElement||I()}:r,rr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(jt){var Ve=jt.state;if(D()){var ao=te(),vn=ao.box;["placement","reference-hidden","escaped"].forEach(function($t){$t==="placement"?vn.setAttribute("data-placement",Ve.placement):Ve.attributes.popper["data-popper-"+$t]?vn.setAttribute("data-"+$t,""):vn.removeAttribute("data-"+$t)}),Ve.attributes.popper={}}}},Ne=[{name:"offset",options:{offset:M}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!K}},rr];D()&&ie&&Ne.push({name:"arrow",options:{element:ie,padding:3}}),Ne.push.apply(Ne,(T==null?void 0:T.modifiers)||[]),d.popperInstance=vs(qe,C,Object.assign({},T,{placement:R,onFirstUpdate:f,modifiers:Ne}))}function It(){d.popperInstance&&(d.popperInstance.destroy(),d.popperInstance=null)}function _e(){var b=d.props.appendTo,T,R=I();d.props.interactive&&b===ii||b==="parent"?T=R.parentNode:T=oi(b,[R]),T.contains(C)||T.appendChild(C),d.state.isMounted=!0,Pt()}function Ae(){return Zt(C.querySelectorAll("[data-tippy-root]"))}function lt(b){d.clearDelayTimeouts(),b&&H("onTrigger",[d,b]),ce();var T=q(!0),R=N(),M=R[0],P=R[1];me.isTouch&&M==="hold"&&P&&(T=P),T?n=setTimeout(function(){d.show()},T):d.show()}function ke(b){if(d.clearDelayTimeouts(),H("onUntrigger",[d,b]),!d.state.isVisible){we();return}if(!(d.props.trigger.indexOf("mouseenter")>=0&&d.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(b.type)>=0&&s)){var T=q(!1);T?i=setTimeout(function(){d.state.isVisible&&d.hide()},T):o=requestAnimationFrame(function(){d.hide()})}}function ct(){d.state.isEnabled=!0}function Mt(){d.hide(),d.state.isEnabled=!1}function Dt(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)}function Bt(b){if(!d.state.isDestroyed){H("onBeforeUpdate",[d,b]),Lt();var T=d.props,R=br(r,Object.assign({},T,gr(b),{ignoreAttributes:!0}));d.props=R,ze(),T.interactiveDebounce!==R.interactiveDebounce&&(Oe(),m=dr(kt,R.interactiveDebounce)),T.triggerTarget&&!R.triggerTarget?Ke(T.triggerTarget).forEach(function(M){M.removeAttribute("aria-expanded")}):R.triggerTarget&&r.removeAttribute("aria-expanded"),pe(),V(),O&&O(T,R),d.popperInstance&&(Pt(),Ae().forEach(function(M){requestAnimationFrame(M._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[d,b])}}function Ft(b){d.setProps({content:b})}function no(){var b=d.state.isVisible,T=d.state.isDestroyed,R=!d.state.isEnabled,M=me.isTouch&&!d.props.touch,P=yn(d.props.duration,0,fe.duration);if(!(b||T||R||M)&&!I().hasAttribute("disabled")&&(H("onShow",[d],!1),d.props.onShow(d)!==!1)){if(d.state.isVisible=!0,D()&&(C.style.visibility="visible"),V(),ce(),d.state.isMounted||(C.style.transition="none"),D()){var K=te(),ie=K.box,qe=K.content;bn([ie,qe],0)}f=function(){var Ne;if(!(!d.state.isVisible||c)){if(c=!0,C.offsetHeight,C.style.transition=d.props.moveTransition,D()&&d.props.animation){var mn=te(),jt=mn.box,Ve=mn.content;bn([jt,Ve],P),mr([jt,Ve],"visible")}de(),pe(),pr(Cn,d),(Ne=d.popperInstance)==null||Ne.forceUpdate(),H("onMount",[d]),d.props.animation&&D()&&Ce(P,function(){d.state.isShown=!0,H("onShown",[d])})}},_e()}}function ro(){var b=!d.state.isVisible,T=d.state.isDestroyed,R=!d.state.isEnabled,M=yn(d.props.duration,1,fe.duration);if(!(b||T||R)&&(H("onHide",[d],!1),d.props.onHide(d)!==!1)){if(d.state.isVisible=!1,d.state.isShown=!1,c=!1,s=!1,D()&&(C.style.visibility="hidden"),Oe(),we(),V(!0),D()){var P=te(),K=P.box,ie=P.content;d.props.animation&&(bn([K,ie],M),mr([K,ie],"hidden"))}de(),pe(),d.props.animation?D()&&We(M,d.unmount):d.unmount()}}function io(b){$().addEventListener("mousemove",m),pr(Wt,m),m(b)}function oo(){d.state.isVisible&&d.hide(),d.state.isMounted&&(It(),Ae().forEach(function(b){b._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),Cn=Cn.filter(function(b){return b!==d}),d.state.isMounted=!1,H("onHidden",[d]))}function so(){d.state.isDestroyed||(d.clearDelayTimeouts(),d.unmount(),Lt(),delete r._tippy,d.state.isDestroyed=!0,H("onDestroy",[d]))}}function At(r,e){e===void 0&&(e={});var t=fe.plugins.concat(e.plugins||[]);Os();var n=Object.assign({},e,{plugins:t}),i=Ts(r),o=i.reduce(function(s,l){var a=l&&js(l,n);return a&&s.push(a),s},[]);return dn(r)?o[0]:o}At.defaultProps=fe;At.setDefaultProps=Ms;At.currentInput=me;Object.assign({},Vr,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});var Nn={clientX:0,clientY:0},Ht=[];function fi(r){var e=r.clientX,t=r.clientY;Nn={clientX:e,clientY:t}}function $s(r){r.addEventListener("mousemove",fi)}function Us(r){r.removeEventListener("mousemove",fi)}var Gs={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=ai(e.props.triggerTarget||t),i=!1,o=!1,s=!0,l=e.props;function a(){return e.props.followCursor==="initial"&&e.state.isVisible}function c(){n.addEventListener("mousemove",f)}function u(){n.removeEventListener("mousemove",f)}function h(){i=!0,e.setProps({getReferenceClientRect:null}),i=!1}function f(v){var y=v.target?t.contains(v.target):!0,w=e.props.followCursor,S=v.clientX,E=v.clientY,d=t.getBoundingClientRect(),x=S-d.left,C=E-d.top;(y||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var k=t.getBoundingClientRect(),A=S,N=E;w==="initial"&&(A=k.left+x,N=k.top+C);var B=w==="horizontal"?k.top:N,D=w==="vertical"?k.right:A,I=w==="horizontal"?k.bottom:N,$=w==="vertical"?k.left:A;return{width:D-$,height:I-B,top:B,right:D,bottom:I,left:$}}})}function g(){e.props.followCursor&&(Ht.push({instance:e,doc:n}),$s(n))}function m(){Ht=Ht.filter(function(v){return v.instance!==e}),Ht.filter(function(v){return v.doc===n}).length===0&&Us(n)}return{onCreate:g,onDestroy:m,onBeforeUpdate:function(){l=e.props},onAfterUpdate:function(y,w){var S=w.followCursor;i||S!==void 0&&l.followCursor!==S&&(m(),S?(g(),e.state.isMounted&&!o&&!a()&&c()):(u(),h()))},onMount:function(){e.props.followCursor&&!o&&(s&&(f(Nn),s=!1),a()||c())},onTrigger:function(y,w){si(w)&&(Nn={clientX:w.clientX,clientY:w.clientY}),o=w.type==="focus"},onHidden:function(){e.props.followCursor&&(h(),u(),s=!0)}}}};At.setDefaultProps({render:ui});var mt=new Map;function Ws(r){var e=mt.get(r);e&&e.destroy()}function Hs(r){var e=mt.get(r);e&&e.update()}var ft=null;typeof window>"u"?((ft=function(r){return r}).destroy=function(r){return r},ft.update=function(r){return r}):((ft=function(r,e){return r&&Array.prototype.forEach.call(r.length?r:[r],function(t){return function(n){if(n&&n.nodeName&&n.nodeName==="TEXTAREA"&&!mt.has(n)){var i,o=null,s=window.getComputedStyle(n),l=(i=n.value,function(){c({testForHeightReduction:i===""||!n.value.startsWith(i),restoreTextAlign:null}),i=n.value}),a=(function(h){n.removeEventListener("autosize:destroy",a),n.removeEventListener("autosize:update",u),n.removeEventListener("input",l),window.removeEventListener("resize",u),Object.keys(h).forEach(function(f){return n.style[f]=h[f]}),mt.delete(n)}).bind(n,{height:n.style.height,resize:n.style.resize,textAlign:n.style.textAlign,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",a),n.addEventListener("autosize:update",u),n.addEventListener("input",l),window.addEventListener("resize",u),n.style.overflowX="hidden",n.style.wordWrap="break-word",mt.set(n,{destroy:a,update:u}),u()}function c(h){var f,g,m=h.restoreTextAlign,v=m===void 0?null:m,y=h.testForHeightReduction,w=y===void 0||y,S=s.overflowY;if(n.scrollHeight!==0&&(s.resize==="vertical"?n.style.resize="none":s.resize==="both"&&(n.style.resize="horizontal"),w&&(f=function(d){for(var x=[];d&&d.parentNode&&d.parentNode instanceof Element;)d.parentNode.scrollTop&&x.push([d.parentNode,d.parentNode.scrollTop]),d=d.parentNode;return function(){return x.forEach(function(C){var O=C[0],k=C[1];O.style.scrollBehavior="auto",O.scrollTop=k,O.style.scrollBehavior=null})}}(n),n.style.height=""),g=s.boxSizing==="content-box"?n.scrollHeight-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)):n.scrollHeight+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),s.maxHeight!=="none"&&g>parseFloat(s.maxHeight)?(s.overflowY==="hidden"&&(n.style.overflow="scroll"),g=parseFloat(s.maxHeight)):s.overflowY!=="hidden"&&(n.style.overflow="hidden"),n.style.height=g+"px",v&&(n.style.textAlign=v),f&&f(),o!==g&&(n.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),o=g),S!==s.overflow&&!v)){var E=s.textAlign;s.overflow==="hidden"&&(n.style.textAlign=E==="start"?"end":"start"),c({restoreTextAlign:E,testForHeightReduction:!0})}}function u(){c({testForHeightReduction:!0,restoreTextAlign:null})}}(t)}),r}).destroy=function(r){return r&&Array.prototype.forEach.call(r.length?r:[r],Ws),r},ft.update=function(r){return r&&Array.prototype.forEach.call(r.length?r:[r],Hs),r});var Yn=ft;Array.prototype.find||(Array.prototype.find=function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("predicate must be a function");for(var e=Object(this),t=e.length>>>0,n=arguments[1],i,o=0;o<t;o++)if(i=e[o],r.call(n,i,o,e))return i});if(window&&typeof window.CustomEvent!="function"){let r=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};typeof window.Event<"u"&&(r.prototype=window.Event.prototype),window.CustomEvent=r}class en{constructor(e){this.tribute=e,this.tribute.events=this}static keys(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}bind(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}unbind(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}keydown(e,t){e.shouldDeactivate(t)&&(e.tribute.isActive=!1,e.tribute.hideMenu());let n=this;e.commandEvent=!1,en.keys().forEach(i=>{i.key===t.keyCode&&(e.commandEvent=!0,e.callbacks()[i.value.toLowerCase()](t,n))})}input(e,t){e.inputEvent=!0,e.keyup.call(this,e,t)}click(e,t){let n=e.tribute;if(n.menu&&n.menu.contains(t.target)){let i=t.target;for(t.preventDefault(),t.stopPropagation();i.nodeName.toLowerCase()!=="li";)if(i=i.parentNode,!i||i===n.menu)throw new Error("cannot find the <li> container for the click");n.selectItemAtIndex(i.getAttribute("data-index"),t),n.hideMenu()}else n.current.element&&!n.current.externalTrigger&&(n.current.externalTrigger=!1,setTimeout(()=>n.hideMenu()))}keyup(e,t){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),t.keyCode!==27){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace){e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,e.callbacks().space(t,this);return}if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(t,this,"");else{let n=e.getKeyCode(e,this,t);if(isNaN(n)||!n)return;let i=e.tribute.triggers().find(o=>o.charCodeAt(0)===n);typeof i<"u"&&e.callbacks().triggerChar(t,this,i)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&e.commandEvent===!1||e.tribute.isActive&&t.keyCode===8)&&e.tribute.showMenuFor(this,!0)}}shouldDeactivate(e){if(!this.tribute.isActive)return!1;if(this.tribute.current.mentionText.length===0){let t=!1;return en.keys().forEach(n=>{e.keyCode===n.key&&(t=!0)}),!t}return!1}getKeyCode(e,t,n){let i=e.tribute,o=i.range.getTriggerInfo(!1,i.hasTrailingSpace,!0,i.allowSpaces,i.autocompleteMode);return o?o.mentionTriggerChar.charCodeAt(0):!1}updateSelection(e){this.tribute.current.element=e;let t=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);t&&(this.tribute.current.selectedPath=t.mentionSelectedPath,this.tribute.current.mentionText=t.mentionText,this.tribute.current.selectedOffset=t.mentionSelectedOffset)}callbacks(){return{triggerChar:(e,t,n)=>{let i=this.tribute;i.current.trigger=n;let o=i.collection.find(s=>s.trigger===n);i.current.collection=o,i.current.mentionText.length>=i.current.collection.menuShowMinLength&&i.inputEvent&&i.showMenuFor(t,!0)},enter:(e,t)=>{this.tribute.isActive&&this.tribute.current.filteredItems&&(e.preventDefault(),e.stopPropagation(),setTimeout(()=>{this.tribute.selectItemAtIndex(this.tribute.menuSelected,e),this.tribute.hideMenu()},0))},escape:(e,t)=>{this.tribute.isActive&&(e.preventDefault(),e.stopPropagation(),this.tribute.isActive=!1,this.tribute.hideMenu())},tab:(e,t)=>{this.callbacks().enter(e,t)},space:(e,t)=>{this.tribute.isActive&&(this.tribute.spaceSelectsMatch?this.callbacks().enter(e,t):this.tribute.allowSpaces||(e.stopPropagation(),setTimeout(()=>{this.tribute.hideMenu(),this.tribute.isActive=!1},0)))},up:(e,t)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let n=this.tribute.current.filteredItems.length,i=this.tribute.menuSelected;n>i&&i>0?(this.tribute.menuSelected--,this.setActiveLi()):i===0&&(this.tribute.menuSelected=n-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight)}},down:(e,t)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let n=this.tribute.current.filteredItems.length-1,i=this.tribute.menuSelected;n>i?(this.tribute.menuSelected++,this.setActiveLi()):n===i&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0)}},delete:(e,t)=>{this.tribute.isActive&&this.tribute.current.mentionText.length<1?this.tribute.hideMenu():this.tribute.isActive&&this.tribute.showMenuFor(t)}}}setActiveLi(e){let t=this.tribute.menu.querySelectorAll("li"),n=t.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(let i=0;i<n;i++){let o=t[i];if(i===this.tribute.menuSelected){o.classList.add(this.tribute.current.collection.selectClass);let s=o.getBoundingClientRect(),l=this.tribute.menu.getBoundingClientRect();if(s.bottom>l.bottom){let a=s.bottom-l.bottom;this.tribute.menu.scrollTop+=a}else if(s.top<l.top){let a=l.top-s.top;this.tribute.menu.scrollTop-=a}}else o.classList.remove(this.tribute.current.collection.selectClass)}}getFullHeight(e,t){let n=e.getBoundingClientRect().height;if(t){let i=e.currentStyle||window.getComputedStyle(e);return n+parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}}class zs{constructor(e){this.tribute=e,this.tribute.menuEvents=this,this.menu=this.tribute.menu}bind(e){this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.hideMenu()},10,!1),this.windowResizeEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.hideMenu()},10,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}unbind(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}debounce(e,t,n){var i;return()=>{var o=this,s=arguments,l=()=>{i=null,n||e.apply(o,s)},a=n&&!i;clearTimeout(i),i=setTimeout(l,t),a&&e.apply(o,s)}}}class qs{constructor(e){this.tribute=e,this.tribute.range=this}getDocument(){let e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}positionMenuAtCaret(e){let t=this.tribute.current,n,i=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(typeof i<"u"){if(!this.tribute.positionMenu){this.tribute.menu.style.cssText="display: block;";return}this.isContentEditable(t.element)?n=this.getContentEditableCaretPosition(i.mentionPosition):n=this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,i.mentionPosition),this.tribute.menu.style.cssText=`top: ${n.top}px;
                                     left: ${n.left}px;
                                     right: ${n.right}px;
                                     bottom: ${n.bottom}px;
                                     max-height: ${n.maxHeight||500}px;
                                     max-width: ${n.maxWidth||300}px;
                                     position: ${n.position||"absolute"};
                                     display: block;`,n.left==="auto"&&(this.tribute.menu.style.left="auto"),n.top==="auto"&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView()}else this.tribute.menu.style.cssText="display: none"}get menuContainerIsBody(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}selectElement(e,t,n){let i,o=e;if(t)for(var s=0;s<t.length;s++){if(o=o.childNodes[t[s]],o===void 0)return;for(;o.length<n;)n-=o.length,o=o.nextSibling;o.childNodes.length===0&&!o.length&&(o=o.previousSibling)}let l=this.getWindowSelection();i=this.getDocument().createRange(),i.setStart(o,n),i.setEnd(o,n),i.collapse(!0);try{l.removeAllRanges()}catch{}l.addRange(i),e.focus()}replaceTriggerText(e,t,n,i,o){let s=this.getTriggerInfo(!0,n,t,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(s!==void 0){let l=this.tribute.current,a=new CustomEvent("tribute-replaced",{detail:{item:o,instance:l,context:s,event:i}});if(this.isContentEditable(l.element)){let c=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";e+=c;let u=s.mentionPosition+s.mentionText.length;this.tribute.autocompleteMode||(u+=s.mentionTriggerChar.length),this.pasteHtml(e,s.mentionPosition,u)}else{let c=this.tribute.current.element,u=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";e+=u;let h=s.mentionPosition,f=s.mentionPosition+s.mentionText.length+u.length;this.tribute.autocompleteMode||(f+=s.mentionTriggerChar.length-1),c.value=c.value.substring(0,h)+e+c.value.substring(f,c.value.length),c.selectionStart=h+e.length,c.selectionEnd=h+e.length}l.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),l.element.dispatchEvent(a)}}pasteHtml(e,t,n){let i,o;o=this.getWindowSelection(),i=this.getDocument().createRange(),i.setStart(o.anchorNode,t),i.setEnd(o.anchorNode,n),i.deleteContents();let s=this.getDocument().createElement("div");s.innerHTML=e;let l=this.getDocument().createDocumentFragment(),a,c;for(;a=s.firstChild;)c=l.appendChild(a);i.insertNode(l),c&&(i=i.cloneRange(),i.setStartAfter(c),i.collapse(!0),o.removeAllRanges(),o.addRange(i))}getWindowSelection(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}getNodePositionInParent(e){if(e.parentNode===null)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++)if(e.parentNode.childNodes[t]===e)return t}getContentEditableSelectedPath(e){let t=this.getWindowSelection(),n=t.anchorNode,i=[],o;if(n!=null){let s,l=n.contentEditable;for(;n!==null&&l!=="true";)s=this.getNodePositionInParent(n),i.push(s),n=n.parentNode,n!==null&&(l=n.contentEditable);return i.reverse(),o=t.getRangeAt(0).startOffset,{selected:n,path:i,offset:o}}}getTextPrecedingCurrentSelection(){let e=this.tribute.current,t="";if(this.isContentEditable(e.element)){let n=this.getWindowSelection().anchorNode;if(n!=null){let i=n.textContent,o=this.getWindowSelection().getRangeAt(0).startOffset;i&&o>=0&&(t=i.substring(0,o))}}else{let n=this.tribute.current.element;if(n){let i=n.selectionStart;n.value&&i>=0&&(t=n.value.substring(0,i))}}return t}getLastWordInText(e){e=e.replace(/\u00A0/g," ");var t;this.tribute.autocompleteSeparator?t=e.split(this.tribute.autocompleteSeparator):t=e.split(/\s+/);var n=t.length-1;return t[n].trim()}getTriggerInfo(e,t,n,i,o){let s=this.tribute.current,l,a,c;if(!this.isContentEditable(s.element))l=this.tribute.current.element;else{let f=this.getContentEditableSelectedPath(s);f&&(l=f.selected,a=f.path,c=f.offset)}let u=this.getTextPrecedingCurrentSelection(),h=this.getLastWordInText(u);if(o)return{mentionPosition:u.length-h.length,mentionText:h,mentionSelectedElement:l,mentionSelectedPath:a,mentionSelectedOffset:c};if(u!=null){let f=-1,g;if(this.tribute.collection.forEach(m=>{let v=m.trigger,y=m.requireLeadingSpace?this.lastIndexWithLeadingSpace(u,v):u.lastIndexOf(v);y>f&&(f=y,g=v,n=m.requireLeadingSpace)}),f>=0&&(f===0||!n||/[\xA0\s]/g.test(u.substring(f-1,f)))){let m=u.substring(f+g.length,u.length);g=u.substring(f,f+g.length);let v=m.substring(0,1),y=m.length>0&&(v===" "||v===" ");t&&(m=m.trim());let w=i?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=w.test(m),!y&&(e||!w.test(m)))return{mentionPosition:f,mentionText:m,mentionSelectedElement:l,mentionSelectedPath:a,mentionSelectedOffset:c,mentionTriggerChar:g}}}}lastIndexWithLeadingSpace(e,t){let n=e.split("").reverse().join(""),i=-1;for(let o=0,s=e.length;o<s;o++){let l=o===e.length-1,a=/\s/.test(n[o+1]),c=!0;for(let u=t.length-1;u>=0;u--)if(t[u]!==n[o-u]){c=!1;break}if(c&&(l||a)){i=e.length-1-o;break}}return i}isContentEditable(e){return e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"}isMenuOffScreen(e,t){let n=window.innerWidth,i=window.innerHeight,o=document.documentElement,s=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),l=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),a=typeof e.top=="number"?e.top:l+i-e.bottom-t.height,c=typeof e.right=="number"?e.right:e.left+t.width,u=typeof e.bottom=="number"?e.bottom:e.top+t.height,h=typeof e.left=="number"?e.left:s+n-e.right-t.width;return{top:a<Math.floor(l),right:c>Math.ceil(s+n),bottom:u>Math.ceil(l+i),left:h<Math.floor(s)}}getMenuDimensions(){let e={width:null,height:null};return this.tribute.menu.style.cssText=`top: 0px;
                                 left: 0px;
                                 position: fixed;
                                 display: block;
                                 visibility; hidden;
                                 max-height:500px;`,e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}getTextAreaOrInputUnderlinePosition(e,t,n){let i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],o=this.getDocument().createElement("div");o.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(o);let s=o.style,l=window.getComputedStyle?getComputedStyle(e):e.currentStyle;s.whiteSpace="pre-wrap",e.nodeName!=="INPUT"&&(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",i.forEach(g=>{s[g]=l[g]});let a=document.createElement("span");a.textContent=e.value.substring(0,t),o.appendChild(a),e.nodeName==="INPUT"&&(o.textContent=o.textContent.replace(/\s/g," "));let c=this.getDocument().createElement("span");c.textContent="&#x200B;",o.appendChild(c);let u=this.getDocument().createElement("span");u.textContent=e.value.substring(t),o.appendChild(u);let h=e.getBoundingClientRect();o.style.position="fixed",o.style.left=h.left+"px",o.style.top=h.top+"px",o.style.width=h.width+"px",o.style.height=h.height+"px",o.scrollTop=e.scrollTop;var f=c.getBoundingClientRect();return this.getDocument().body.removeChild(o),this.getFixedCoordinatesRelativeToRect(f)}getContentEditableCaretPosition(e){let t,n=this.getWindowSelection();t=this.getDocument().createRange(),t.setStart(n.anchorNode,e),t.setEnd(n.anchorNode,e),t.collapse(!1);let i=t.getBoundingClientRect();return this.getFixedCoordinatesRelativeToRect(i)}getFixedCoordinatesRelativeToRect(e){let t={position:"fixed",left:e.left,top:e.top+e.height},n=this.getMenuDimensions();var i=e.top,o=window.innerHeight-(e.top+e.height);o<n.height&&(i>=n.height||i>o?(t.top="auto",t.bottom=window.innerHeight-e.top,o<n.height&&(t.maxHeight=i)):i<n.height&&(t.maxHeight=o));var s=e.left,l=window.innerWidth-e.left;return l<n.width&&(s>=n.width||s>l?(t.left="auto",t.right=window.innerWidth-e.left,l<n.width&&(t.maxWidth=s)):s<n.width&&(t.maxWidth=l)),t}scrollIntoView(e){let t=20,n,i=100,o=this.menu;if(typeof o>"u")return;for(;n===void 0||n.height===0;)if(n=o.getBoundingClientRect(),n.height===0&&(o=o.childNodes[0],o===void 0||!o.getBoundingClientRect))return;let s=n.top,l=s+n.height;if(s<0)window.scrollTo(0,window.pageYOffset+n.top-t);else if(l>window.innerHeight){let a=window.pageYOffset+n.top-t;a-window.pageYOffset>i&&(a=window.pageYOffset+i);let c=window.pageYOffset-(window.innerHeight-l);c>a&&(c=a),window.scrollTo(0,c)}}}class Vs{constructor(e){this.tribute=e,this.tribute.search=this}simpleFilter(e,t){return t.filter(n=>this.test(e,n))}test(e,t){return this.match(e,t)!==null}match(e,t,n){n=n||{},t.length;let i=n.pre||"",o=n.post||"",s=n.caseSensitive&&t||t.toLowerCase();if(n.skip)return{rendered:t,score:0};e=n.caseSensitive&&e||e.toLowerCase();let l=this.traverse(s,e,0,0,[]);return l?{rendered:this.render(t,l.cache,i,o),score:l.score}:null}traverse(e,t,n,i,o){if(this.tribute.autocompleteSeparator&&(t=t.split(this.tribute.autocompleteSeparator).splice(-1)[0]),t.length===i)return{score:this.calculateScore(o),cache:o.slice()};if(e.length===n||t.length-i>e.length-n)return;let s=t[i],l=e.indexOf(s,n),a,c;for(;l>-1;){if(o.push(l),c=this.traverse(e,t,l+1,i+1,o),o.pop(),!c)return a;(!a||a.score<c.score)&&(a=c),l=e.indexOf(s,l+1)}return a}calculateScore(e){let t=0,n=1;return e.forEach((i,o)=>{o>0&&(e[o-1]+1===i?n+=n+1:n=1),t+=n}),t}render(e,t,n,i){var o=e.substring(0,t[0]);return t.forEach((s,l)=>{o+=n+e[s]+i+e.substring(s+1,t[l+1]?t[l+1]:e.length)}),o}filter(e,t,n){return n=n||{},t.reduce((i,o,s,l)=>{let a=o;n.extract&&(a=n.extract(o),a||(a=""));let c=this.match(e,a,n);return c!=null&&(i[i.length]={string:c.rendered,score:c.score,index:s,original:o}),i},[]).sort((i,o)=>{let s=o.score-i.score;return s||i.index-o.index})}}class Ie{constructor({values:e=null,loadingItemTemplate:t=null,iframe:n=null,selectClass:i="highlight",containerClass:o="tribute-container",itemClass:s="",trigger:l="@",autocompleteMode:a=!1,autocompleteSeparator:c=null,selectTemplate:u=null,menuItemTemplate:h=null,lookup:f="key",fillAttr:g="value",collection:m=null,menuContainer:v=null,noMatchTemplate:y=null,requireLeadingSpace:w=!0,allowSpaces:S=!1,replaceTextSuffix:E=null,positionMenu:d=!0,spaceSelectsMatch:x=!1,searchOpts:C={},menuItemLimit:O=null,menuShowMinLength:k=0}){if(this.autocompleteMode=a,this.autocompleteSeparator=c,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=v,this.allowSpaces=S,this.replaceTextSuffix=E,this.positionMenu=d,this.hasTrailingSpace=!1,this.spaceSelectsMatch=x,this.autocompleteMode&&(l="",S=!1),e)this.collection=[{trigger:l,iframe:n,selectClass:i,containerClass:o,itemClass:s,selectTemplate:(u||Ie.defaultSelectTemplate).bind(this),menuItemTemplate:(h||Ie.defaultMenuItemTemplate).bind(this),noMatchTemplate:(A=>typeof A=="string"?A.trim()===""?null:A:typeof A=="function"?A.bind(this):y||(function(){return"<li>No Match Found!</li>"}).bind(this))(y),lookup:f,fillAttr:g,values:e,loadingItemTemplate:t,requireLeadingSpace:w,searchOpts:C,menuItemLimit:O,menuShowMinLength:k}];else if(m)this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=m.map(A=>({trigger:A.trigger||l,iframe:A.iframe||n,selectClass:A.selectClass||i,containerClass:A.containerClass||o,itemClass:A.itemClass||s,selectTemplate:(A.selectTemplate||Ie.defaultSelectTemplate).bind(this),menuItemTemplate:(A.menuItemTemplate||Ie.defaultMenuItemTemplate).bind(this),noMatchTemplate:(N=>typeof N=="string"?N.trim()===""?null:N:typeof N=="function"?N.bind(this):y||(function(){return"<li>No Match Found!</li>"}).bind(this))(y),lookup:A.lookup||f,fillAttr:A.fillAttr||g,values:A.values,loadingItemTemplate:A.loadingItemTemplate,requireLeadingSpace:A.requireLeadingSpace,searchOpts:A.searchOpts||C,menuItemLimit:A.menuItemLimit||O,menuShowMinLength:A.menuShowMinLength||k}));else throw new Error("[Tribute] No collection specified.");new qs(this),new en(this),new zs(this),new Vs(this)}get isActive(){return this._isActive}set isActive(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){let t=new CustomEvent(`tribute-active-${e}`);this.current.element.dispatchEvent(t)}}static defaultSelectTemplate(e){return typeof e>"u"?`${this.current.collection.trigger}${this.current.mentionText}`:this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}static defaultMenuItemTemplate(e){return e.string}static inputTypes(){return["TEXTAREA","INPUT"]}triggers(){return this.collection.map(e=>e.trigger)}attach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let n=e.length;for(var t=0;t<n;++t)this._attach(e[t])}else this._attach(e)}_attach(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}ensureEditable(e){if(Ie.inputTypes().indexOf(e.nodeName)===-1)if(e.contentEditable)e.contentEditable=!0;else throw new Error("[Tribute] Cannot bind to "+e.nodeName)}createMenu(e){let t=this.range.getDocument().createElement("div"),n=this.range.getDocument().createElement("ul");return t.className=e,t.appendChild(n),this.menuContainer?this.menuContainer.appendChild(t):this.range.getDocument().body.appendChild(t)}showMenuFor(e,t){if(this.isActive&&this.current.element===e&&this.current.mentionText===this.currentMentionTextSnapshot)return;this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");const n=i=>{if(!this.isActive)return;let o=this.search.filter(this.current.mentionText,i,{pre:this.current.collection.searchOpts.pre||"<span>",post:this.current.collection.searchOpts.post||"</span>",skip:this.current.collection.searchOpts.skip,extract:a=>{if(typeof this.current.collection.lookup=="string")return a[this.current.collection.lookup];if(typeof this.current.collection.lookup=="function")return this.current.collection.lookup(a,this.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});this.current.collection.menuItemLimit&&(o=o.slice(0,this.current.collection.menuItemLimit)),this.current.filteredItems=o;let s=this.menu.querySelector("ul");if(!o.length){let a=new CustomEvent("tribute-no-match",{detail:this.menu});this.current.element.dispatchEvent(a),typeof this.current.collection.noMatchTemplate=="function"&&!this.current.collection.noMatchTemplate()||!this.current.collection.noMatchTemplate?this.hideMenu():(typeof this.current.collection.noMatchTemplate=="function"?s.innerHTML=this.current.collection.noMatchTemplate():s.innerHTML=this.current.collection.noMatchTemplate,this.range.positionMenuAtCaret(t));return}s.innerHTML="";let l=this.range.getDocument().createDocumentFragment();o.forEach((a,c)=>{let u=this.range.getDocument().createElement("li");u.setAttribute("data-index",c),u.className=this.current.collection.itemClass,u.addEventListener("mousemove",h=>{let[f,g]=this._findLiTarget(h.target);h.movementY!==0&&this.events.setActiveLi(g)}),this.menuSelected===c&&u.classList.add(this.current.collection.selectClass),u.innerHTML=this.current.collection.menuItemTemplate(a),l.appendChild(u)}),s.appendChild(l),this.range.positionMenuAtCaret(t)};typeof this.current.collection.values=="function"?(this.current.collection.loadingItemTemplate&&(this.menu.querySelector("ul").innerHTML=this.current.collection.loadingItemTemplate,this.range.positionMenuAtCaret(t)),this.current.collection.values(this.current.mentionText,n)):n(this.current.collection.values)}_findLiTarget(e){if(!e)return[];const t=e.getAttribute("data-index");return t?[e,t]:this._findLiTarget(e.parentNode)}showMenuForCollection(e,t){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[t||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}placeCaretAtEnd(e){if(e.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(typeof document.body.createTextRange<"u"){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}}insertTextAtCursor(e){var t,n;t=window.getSelection(),n=t.getRangeAt(0),n.deleteContents();var i=document.createTextNode(e);n.insertNode(i),n.selectNodeContents(i),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}insertAtCaret(e,t){var n=e.scrollTop,i=e.selectionStart,o=e.value.substring(0,i),s=e.value.substring(e.selectionEnd,e.value.length);e.value=o+t+s,i=i+t.length,e.selectionStart=i,e.selectionEnd=i,e.focus(),e.scrollTop=n}hideMenu(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}selectItemAtIndex(e,t){if(e=parseInt(e),typeof e!="number"||isNaN(e))return;let n=this.current.filteredItems[e],i=this.current.collection.selectTemplate(n);i!==null&&this.replaceText(i,t,n)}replaceText(e,t,n){this.range.replaceTriggerText(e,!0,!0,t,n)}_append(e,t,n){if(typeof e.values=="function")throw new Error("Unable to append to values, as it is a function.");n?e.values=t:e.values=e.values.concat(t)}append(e,t,n){let i=parseInt(e);if(typeof i!="number")throw new Error("please provide an index for the collection to update.");let o=this.collection[i];this._append(o,t,n)}appendCurrent(e,t){if(this.isActive)this._append(this.current.collection,e,t);else throw new Error("No active state. Please use append instead and pass an index.")}detach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let n=e.length;for(var t=0;t<n;++t)this._detach(e[t])}else this._detach(e)}_detach(e){this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout(()=>{e.removeAttribute("data-tribute"),this.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()})}}var he;(function(r){r[r.NotSet=-1]="NotSet",r[r.None=0]="None",r[r.Italic=1]="Italic",r[r.Bold=2]="Bold",r[r.Underline=4]="Underline"})(he||(he={}));var nt;(function(r){function e(u){return u.toString(2).padStart(32,"0")}r.toBinaryStr=e;function t(u){const h=r.getLanguageId(u),f=r.getTokenType(u),g=r.getFontStyle(u),m=r.getForeground(u),v=r.getBackground(u);console.log({languageId:h,tokenType:f,fontStyle:g,foreground:m,background:v})}r.print=t;function n(u){return(u&255)>>>0}r.getLanguageId=n;function i(u){return(u&768)>>>8}r.getTokenType=i;function o(u){return(u&1024)!==0}r.containsBalancedBrackets=o;function s(u){return(u&30720)>>>11}r.getFontStyle=s;function l(u){return(u&16744448)>>>15}r.getForeground=l;function a(u){return(u&4278190080)>>>24}r.getBackground=a;function c(u,h,f,g,m,v,y){let w=r.getLanguageId(u),S=r.getTokenType(u),E=r.containsBalancedBrackets(u)?1:0,d=r.getFontStyle(u),x=r.getForeground(u),C=r.getBackground(u);return h!==0&&(w=h),f!==8&&(S=f),g!==null&&(E=g?1:0),m!==-1&&(d=m),v!==0&&(x=v),y!==0&&(C=y),(w<<0|S<<8|E<<10|d<<11|x<<15|C<<24)>>>0}r.set=c})(nt||(nt={}));function tn(r,e){const t=[],n=Ks(r);let i=n.next();for(;i!==null;){let a=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":a=1;break;case"L":a=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=n.next()}let c=s();if(t.push({matcher:c,priority:a}),i!==",")break;i=n.next()}return t;function o(){if(i==="-"){i=n.next();const a=o();return c=>!!a&&!a(c)}if(i==="("){i=n.next();const a=l();return i===")"&&(i=n.next()),a}if(_r(i)){const a=[];do a.push(i),i=n.next();while(_r(i));return c=>e(a,c)}return null}function s(){const a=[];let c=o();for(;c;)a.push(c),c=o();return u=>a.every(h=>h(u))}function l(){const a=[];let c=s();for(;c&&(a.push(c),i==="|"||i===",");){do i=n.next();while(i==="|"||i===",");c=s()}return u=>a.some(h=>h(u))}}function _r(r){return!!r&&!!r.match(/[\w\.:]+/)}function Ks(r){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,t=e.exec(r);return{next:()=>{if(!t)return null;const n=t[0];return t=e.exec(r),n}}}function hi(r){typeof r.dispose=="function"&&r.dispose()}function Ys(r){return Xn(r)}function Xn(r){return Array.isArray(r)?Xs(r):typeof r=="object"?Qs(r):r}function Xs(r){let e=[];for(let t=0,n=r.length;t<n;t++)e[t]=Xn(r[t]);return e}function Qs(r){let e={};for(let t in r)e[t]=Xn(r[t]);return e}function di(r,...e){return e.forEach(t=>{for(let n in t)r[n]=t[n]}),r}function pi(r){const e=~r.lastIndexOf("/")||~r.lastIndexOf("\\");return e===0?r:~e===r.length-1?pi(r.substring(0,r.length-1)):r.substr(~e+1)}let _n=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;class zt{static hasCaptures(e){return e===null?!1:(_n.lastIndex=0,_n.test(e))}static replaceCaptures(e,t,n){return e.replace(_n,(i,o,s,l)=>{let a=n[parseInt(o||s,10)];if(a){let c=t.substring(a.start,a.end);for(;c[0]===".";)c=c.substring(1);switch(l){case"downcase":return c.toLowerCase();case"upcase":return c.toUpperCase();default:return c}}else return i})}}function gi(r,e){return r<e?-1:r>e?1:0}function mi(r,e){if(r===null&&e===null)return 0;if(!r)return-1;if(!e)return 1;let t=r.length,n=e.length;if(t===n){for(let i=0;i<t;i++){let o=gi(r[i],e[i]);if(o!==0)return o}return 0}return t-n}function Sr(r){return!!(/^#[0-9a-f]{6}$/i.test(r)||/^#[0-9a-f]{8}$/i.test(r)||/^#[0-9a-f]{3}$/i.test(r)||/^#[0-9a-f]{4}$/i.test(r))}function vi(r){return r.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}class yi{constructor(e){p(this,"fn");p(this,"cache",new Map);this.fn=e}get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}}class Ct{constructor(e){p(this,"scopeName");this.scopeName=e}toKey(){return this.scopeName}}class Js{constructor(e,t){p(this,"scopeName");p(this,"ruleName");this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}}class Zs{constructor(){p(this,"_references",[]);p(this,"_seenReferenceKeys",new Set);p(this,"visitedRule",new Set)}get references(){return this._references}add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}}class ea{constructor(e,t){p(this,"repo");p(this,"initialScopeName");p(this,"seenFullScopeRequests",new Set);p(this,"seenPartialScopeRequests",new Set);p(this,"Q");this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new Ct(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const t=new Zs;for(const n of e)ta(n,this.initialScopeName,this.repo,t);for(const n of t.references)if(n instanceof Ct){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}}function ta(r,e,t,n){const i=t.lookup(r.scopeName);if(!i){if(r.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const o=t.lookup(e);r instanceof Ct?Qt({baseGrammar:o,selfGrammar:i},n):Pn(r.ruleName,{baseGrammar:o,selfGrammar:i,repository:i.repository},n);const s=t.injections(r.scopeName);if(s)for(const l of s)n.add(new Ct(l))}function Pn(r,e,t){if(e.repository&&e.repository[r]){const n=e.repository[r];nn([n],e,t)}}function Qt(r,e){r.selfGrammar.patterns&&Array.isArray(r.selfGrammar.patterns)&&nn(r.selfGrammar.patterns,{...r,repository:r.selfGrammar.repository},e),r.selfGrammar.injections&&nn(Object.values(r.selfGrammar.injections),{...r,repository:r.selfGrammar.repository},e)}function nn(r,e,t){for(const n of r){if(t.visitedRule.has(n))continue;t.visitedRule.add(n);const i=n.repository?di({},e.repository,n.repository):e.repository;Array.isArray(n.patterns)&&nn(n.patterns,{...e,repository:i},t);const o=n.include;if(!o)continue;const s=bi(o);switch(s.kind){case 0:Qt({...e,selfGrammar:e.baseGrammar},t);break;case 1:Qt(e,t);break;case 2:Pn(s.ruleName,{...e,repository:i},t);break;case 3:case 4:const l=s.scopeName===e.selfGrammar.scopeName?e.selfGrammar:s.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(l){const a={baseGrammar:e.baseGrammar,selfGrammar:l,repository:i};s.kind===4?Pn(s.ruleName,a,t):Qt(a,t)}else s.kind===4?t.add(new Js(s.scopeName,s.ruleName)):t.add(new Ct(s.scopeName));break}}}class na{constructor(){p(this,"kind",0)}}class ra{constructor(){p(this,"kind",1)}}class ia{constructor(e){p(this,"ruleName");p(this,"kind",2);this.ruleName=e}}class oa{constructor(e){p(this,"scopeName");p(this,"kind",3);this.scopeName=e}}class sa{constructor(e,t){p(this,"scopeName");p(this,"ruleName");p(this,"kind",4);this.scopeName=e,this.ruleName=t}}function bi(r){if(r==="$base")return new na;if(r==="$self")return new ra;const e=r.indexOf("#");if(e===-1)return new oa(r);if(e===0)return new ia(r.substring(1));{const t=r.substring(0,e),n=r.substring(e+1);return new sa(t,n)}}const aa=/\\(\d+)/,xr=/\\(\d+)/g,la=-1,wi=-2;class Rt{constructor(e,t,n,i){p(this,"$location");p(this,"id");p(this,"_nameIsCapturing");p(this,"_name");p(this,"_contentNameIsCapturing");p(this,"_contentName");this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=zt.hasCaptures(this._name),this._contentName=i||null,this._contentNameIsCapturing=zt.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${pi(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:zt.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:zt.replaceCaptures(this._contentName,e,t)}}class ca extends Rt{constructor(t,n,i,o,s){super(t,n,i,o);p(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(t,n){throw new Error("Not supported!")}compile(t,n){throw new Error("Not supported!")}compileAG(t,n,i,o){throw new Error("Not supported!")}}class ua extends Rt{constructor(t,n,i,o,s){super(t,n,i,null);p(this,"_match");p(this,"captures");p(this,"_cachedCompiledPatterns");this._match=new $e(o,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,n){n.push(this._match)}compile(t,n){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,n,i,o){return this._getCachedCompiledPatterns(t).compileAG(t,i,o)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new _t,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}class Tr extends Rt{constructor(t,n,i,o,s){super(t,n,i,o);p(this,"hasMissingPatterns");p(this,"patterns");p(this,"_cachedCompiledPatterns");this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,n){for(const i of this.patterns)t.getRule(i).collectPatterns(t,n)}compile(t,n){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,n,i,o){return this._getCachedCompiledPatterns(t).compileAG(t,i,o)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new _t,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}class In extends Rt{constructor(t,n,i,o,s,l,a,c,u,h){super(t,n,i,o);p(this,"_begin");p(this,"beginCaptures");p(this,"_end");p(this,"endHasBackReferences");p(this,"endCaptures");p(this,"applyEndPatternLast");p(this,"hasMissingPatterns");p(this,"patterns");p(this,"_cachedCompiledPatterns");this._begin=new $e(s,this.id),this.beginCaptures=l,this._end=new $e(a||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=c,this.applyEndPatternLast=u||!1,this.patterns=h.patterns,this.hasMissingPatterns=h.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,n){return this._end.resolveBackReferences(t,n)}collectPatterns(t,n){n.push(this._begin)}compile(t,n){return this._getCachedCompiledPatterns(t,n).compile(t)}compileAG(t,n,i,o){return this._getCachedCompiledPatterns(t,n).compileAG(t,i,o)}_getCachedCompiledPatterns(t,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new _t;for(const i of this.patterns)t.getRule(i).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}}class rn extends Rt{constructor(t,n,i,o,s,l,a,c,u){super(t,n,i,o);p(this,"_begin");p(this,"beginCaptures");p(this,"whileCaptures");p(this,"_while");p(this,"whileHasBackReferences");p(this,"hasMissingPatterns");p(this,"patterns");p(this,"_cachedCompiledPatterns");p(this,"_cachedCompiledWhilePatterns");this._begin=new $e(s,this.id),this.beginCaptures=l,this.whileCaptures=c,this._while=new $e(a,wi),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,n){return this._while.resolveBackReferences(t,n)}collectPatterns(t,n){n.push(this._begin)}compile(t,n){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,n,i,o){return this._getCachedCompiledPatterns(t).compileAG(t,i,o)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new _t;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,n){return this._getCachedCompiledWhilePatterns(t,n).compile(t)}compileWhileAG(t,n,i,o){return this._getCachedCompiledWhilePatterns(t,n).compileAG(t,i,o)}_getCachedCompiledWhilePatterns(t,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new _t,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||"￿"),this._cachedCompiledWhilePatterns}}class G{static createCaptureRule(e,t,n,i,o){return e.registerRule(s=>new ca(t,s,n,i,o))}static getCompiledRuleId(e,t,n){return e.id||t.registerRule(i=>{if(e.id=i,e.match)return new ua(e.$vscodeTextmateLocation,e.id,e.name,e.match,G._compileCaptures(e.captures,t,n));if(typeof e.begin>"u"){e.repository&&(n=di({},n,e.repository));let o=e.patterns;return typeof o>"u"&&e.include&&(o=[{include:e.include}]),new Tr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,G._compilePatterns(o,t,n))}return e.while?new rn(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,G._compileCaptures(e.beginCaptures||e.captures,t,n),e.while,G._compileCaptures(e.whileCaptures||e.captures,t,n),G._compilePatterns(e.patterns,t,n)):new In(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,G._compileCaptures(e.beginCaptures||e.captures,t,n),e.end,G._compileCaptures(e.endCaptures||e.captures,t,n),e.applyEndPatternLast,G._compilePatterns(e.patterns,t,n))}),e.id}static _compileCaptures(e,t,n){let i=[];if(e){let o=0;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const l=parseInt(s,10);l>o&&(o=l)}for(let s=0;s<=o;s++)i[s]=null;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const l=parseInt(s,10);let a=0;e[s].patterns&&(a=G.getCompiledRuleId(e[s],t,n)),i[l]=G.createCaptureRule(t,e[s].$vscodeTextmateLocation,e[s].name,e[s].contentName,a)}}return i}static _compilePatterns(e,t,n){let i=[];if(e)for(let o=0,s=e.length;o<s;o++){const l=e[o];let a=-1;if(l.include){const c=bi(l.include);switch(c.kind){case 0:case 1:a=G.getCompiledRuleId(n[l.include],t,n);break;case 2:let u=n[c.ruleName];u&&(a=G.getCompiledRuleId(u,t,n));break;case 3:case 4:const h=c.scopeName,f=c.kind===4?c.ruleName:null,g=t.getExternalGrammar(h,n);if(g)if(f){let m=g.repository[f];m&&(a=G.getCompiledRuleId(m,t,g.repository))}else a=G.getCompiledRuleId(g.repository.$self,t,g.repository);break}}else a=G.getCompiledRuleId(l,t,n);if(a!==-1){const c=t.getRule(a);let u=!1;if((c instanceof Tr||c instanceof In||c instanceof rn)&&c.hasMissingPatterns&&c.patterns.length===0&&(u=!0),u)continue;i.push(a)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}}class $e{constructor(e,t){p(this,"source");p(this,"ruleId");p(this,"hasAnchor");p(this,"hasBackReferences");p(this,"_anchorCache");if(e){const n=e.length;let i=0,o=[],s=!1;for(let l=0;l<n;l++)if(e.charAt(l)==="\\"&&l+1<n){const c=e.charAt(l+1);c==="z"?(o.push(e.substring(i,l)),o.push("$(?!\\n)(?<!\\n)"),i=l+2):(c==="A"||c==="G")&&(s=!0),l++}this.hasAnchor=s,i===0?this.source=e:(o.push(e.substring(i,n)),this.source=o.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,this.hasBackReferences=aa.test(this.source)}clone(){return new $e(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){let n=t.map(i=>e.substring(i.start,i.end));return xr.lastIndex=0,this.source.replace(xr,(i,o)=>vi(n[parseInt(o,10)]||""))}_buildAnchorCache(){let e=[],t=[],n=[],i=[],o,s,l,a;for(o=0,s=this.source.length;o<s;o++)l=this.source.charAt(o),e[o]=l,t[o]=l,n[o]=l,i[o]=l,l==="\\"&&o+1<s&&(a=this.source.charAt(o+1),a==="A"?(e[o+1]="￿",t[o+1]="￿",n[o+1]="A",i[o+1]="A"):a==="G"?(e[o+1]="￿",t[o+1]="G",n[o+1]="￿",i[o+1]="G"):(e[o+1]=a,t[o+1]=a,n[o+1]=a,i[o+1]=a),o++);return{A0_G0:e.join(""),A0_G1:t.join(""),A1_G0:n.join(""),A1_G1:i.join("")}}resolveAnchors(e,t){return!this.hasAnchor||!this._anchorCache?this.source:e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0}}class _t{constructor(){p(this,"_items");p(this,"_hasAnchors");p(this,"_cached");p(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(n=>n.source);this._cached=new Er(e,t,this._items.map(n=>n.ruleId))}return this._cached}compileAG(e,t,n){return this._hasAnchors?t?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,n){let i=this._items.map(o=>o.resolveAnchors(t,n));return new Er(e,i,this._items.map(o=>o.ruleId))}}class Er{constructor(e,t,n){p(this,"regExps");p(this,"rules");p(this,"scanner");this.regExps=t,this.rules=n,this.scanner=e.createOnigScanner(t)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,n=this.rules.length;t<n;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,n){const i=this.scanner.findNextMatchSync(e,t,n);return i?{ruleId:this.rules[i.index],captureIndices:i.captureIndices}:null}}class on{constructor(e,t,n){p(this,"_colorMap");p(this,"_defaults");p(this,"_root");p(this,"_cachedMatchRoot",new yi(e=>this._root.match(e)));this._colorMap=e,this._defaults=t,this._root=n}static createFromRawTheme(e,t){return this.createFromParsedTheme(da(e),t)}static createFromParsedTheme(e,t){return ga(e,t)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const t=e.scopeName,i=this._cachedMatchRoot.get(t).find(o=>fa(e.parent,o.parentScopes));return i?new Ci(i.fontStyle,i.foreground,i.background):null}}class Fe{constructor(e,t){p(this,"parent");p(this,"scopeName");this.parent=e,this.scopeName=t}static push(e,t){for(const n of t)e=new Fe(e,n);return e}static from(...e){let t=null;for(let n=0;n<e.length;n++)t=new Fe(t,e[n]);return t}push(e){return new Fe(this,e)}getSegments(){let e=this;const t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const t=[];let n=this;for(;n&&n!==e;)t.push(n.scopeName),n=n.parent;return n===e?t.reverse():void 0}}function fa(r,e){if(e===null)return!0;let t=0,n=e[t];for(;r;){if(ha(r.scopeName,n)){if(t++,t===e.length)return!0;n=e[t]}r=r.parent}return!1}function ha(r,e){return e===r||r.startsWith(e)&&r[e.length]==="."}class Ci{constructor(e,t,n){p(this,"fontStyle");p(this,"foregroundId");p(this,"backgroundId");this.fontStyle=e,this.foregroundId=t,this.backgroundId=n}}function da(r){if(!r)return[];if(!r.settings||!Array.isArray(r.settings))return[];let e=r.settings,t=[],n=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];if(!s.settings)continue;let l;if(typeof s.scope=="string"){let h=s.scope;h=h.replace(/^[,]+/,""),h=h.replace(/[,]+$/,""),l=h.split(",")}else Array.isArray(s.scope)?l=s.scope:l=[""];let a=-1;if(typeof s.settings.fontStyle=="string"){a=0;let h=s.settings.fontStyle.split(" ");for(let f=0,g=h.length;f<g;f++)switch(h[f]){case"italic":a=a|1;break;case"bold":a=a|2;break;case"underline":a=a|4;break;case"strikethrough":a=a|8;break}}let c=null;typeof s.settings.foreground=="string"&&Sr(s.settings.foreground)&&(c=s.settings.foreground);let u=null;typeof s.settings.background=="string"&&Sr(s.settings.background)&&(u=s.settings.background);for(let h=0,f=l.length;h<f;h++){let m=l[h].trim().split(" "),v=m[m.length-1],y=null;m.length>1&&(y=m.slice(0,m.length-1),y.reverse()),t[n++]=new pa(v,y,i,a,c,u)}}return t}class pa{constructor(e,t,n,i,o,s){p(this,"scope");p(this,"parentScopes");p(this,"index");p(this,"fontStyle");p(this,"foreground");p(this,"background");this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=i,this.foreground=o,this.background=s}}function ga(r,e){r.sort((a,c)=>{let u=gi(a.scope,c.scope);return u!==0||(u=mi(a.parentScopes,c.parentScopes),u!==0)?u:a.index-c.index});let t=0,n="#000000",i="#ffffff";for(;r.length>=1&&r[0].scope==="";){let a=r.shift();a.fontStyle!==-1&&(t=a.fontStyle),a.foreground!==null&&(n=a.foreground),a.background!==null&&(i=a.background)}let o=new ma(e),s=new Ci(t,o.getId(n),o.getId(i)),l=new vt(new St(0,null,-1,0,0),[]);for(let a=0,c=r.length;a<c;a++){let u=r[a];l.insert(0,u.scope,u.parentScopes,u.fontStyle,o.getId(u.foreground),o.getId(u.background))}return new on(o,s,l)}class ma{constructor(e){p(this,"_isFrozen");p(this,"_lastColorId");p(this,"_id2color");p(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,n=e.length;t<n;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}}class St{constructor(e,t,n,i,o){p(this,"scopeDepth");p(this,"parentScopes");p(this,"fontStyle");p(this,"foreground");p(this,"background");this.scopeDepth=e,this.parentScopes=t,this.fontStyle=n,this.foreground=i,this.background=o}clone(){return new St(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let n=0,i=e.length;n<i;n++)t[n]=e[n].clone();return t}acceptOverwrite(e,t,n,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,t!==-1&&(this.fontStyle=t),n!==0&&(this.foreground=n),i!==0&&(this.background=i)}}class vt{constructor(e,t=[],n={}){p(this,"_mainRule");p(this,"_children");p(this,"_rulesWithParentScopes");this._mainRule=e,this._children=n,this._rulesWithParentScopes=t}static _sortBySpecificity(e){return e.length===1||e.sort(this._cmpBySpecificity),e}static _cmpBySpecificity(e,t){if(e.scopeDepth===t.scopeDepth){const n=e.parentScopes,i=t.parentScopes;let o=n===null?0:n.length,s=i===null?0:i.length;if(o===s)for(let l=0;l<o;l++){const a=n[l].length,c=i[l].length;if(a!==c)return c-a}return s-o}return t.scopeDepth-e.scopeDepth}match(e){if(e==="")return vt._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let t=e.indexOf("."),n,i;return t===-1?(n=e,i=""):(n=e.substring(0,t),i=e.substring(t+1)),this._children.hasOwnProperty(n)?this._children[n].match(i):vt._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(e,t,n,i,o,s){if(t===""){this._doInsertHere(e,n,i,o,s);return}let l=t.indexOf("."),a,c;l===-1?(a=t,c=""):(a=t.substring(0,l),c=t.substring(l+1));let u;this._children.hasOwnProperty(a)?u=this._children[a]:(u=new vt(this._mainRule.clone(),St.cloneArr(this._rulesWithParentScopes)),this._children[a]=u),u.insert(e+1,c,n,i,o,s)}_doInsertHere(e,t,n,i,o){if(t===null){this._mainRule.acceptOverwrite(e,n,i,o);return}for(let s=0,l=this._rulesWithParentScopes.length;s<l;s++){let a=this._rulesWithParentScopes[s];if(mi(a.parentScopes,t)===0){a.acceptOverwrite(e,n,i,o);return}}n===-1&&(n=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),o===0&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new St(e,t,n,i,o))}}class Sn{constructor(e,t){p(this,"languageId");p(this,"tokenType");this.languageId=e,this.tokenType=t}}const Ye=class Ye{constructor(e,t){p(this,"_defaultAttributes");p(this,"_embeddedLanguagesMatcher");p(this,"_getBasicScopeAttributes",new yi(e=>{const t=this._scopeToLanguage(e),n=this._toStandardTokenType(e);return new Sn(t,n)}));this._defaultAttributes=new Sn(e,8),this._embeddedLanguagesMatcher=new va(Object.entries(t||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?Ye._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const t=e.match(Ye.STANDARD_TOKEN_TYPE_REGEXP);if(!t)return 8;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}};p(Ye,"_NULL_SCOPE_METADATA",new Sn(0,0)),p(Ye,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/);let Mn=Ye;class va{constructor(e){p(this,"values");p(this,"scopesRegExp");if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([n,i])=>vi(n));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}}class Ar{constructor(e,t){p(this,"stack");p(this,"stoppedEarly");this.stack=e,this.stoppedEarly=t}}function _i(r,e,t,n,i,o,s,l){const a=e.content.length;let c=!1,u=-1;if(s){const g=ya(r,e,t,n,i,o);i=g.stack,n=g.linePos,t=g.isFirstLine,u=g.anchorPosition}const h=Date.now();for(;!c;){if(l!==0&&Date.now()-h>l)return new Ar(i,!0);f()}return new Ar(i,!1);function f(){const g=ba(r,e,t,n,i,u);if(!g){o.produce(i,a),c=!0;return}const m=g.captureIndices,v=g.matchedRuleId,y=m&&m.length>0?m[0].end>n:!1;if(v===la){const w=i.getRule(r);o.produce(i,m[0].start),i=i.withContentNameScopesList(i.nameScopesList),ht(r,e,t,i,o,w.endCaptures,m),o.produce(i,m[0].end);const S=i;if(i=i.parent,u=S.getAnchorPos(),!y&&S.getEnterPos()===n){i=S,o.produce(i,a),c=!0;return}}else{const w=r.getRule(v);o.produce(i,m[0].start);const S=i,E=w.getName(e.content,m),d=i.contentNameScopesList.pushAttributed(E,r);if(i=i.push(v,n,u,m[0].end===a,null,d,d),w instanceof In){const x=w;ht(r,e,t,i,o,x.beginCaptures,m),o.produce(i,m[0].end),u=m[0].end;const C=x.getContentName(e.content,m),O=d.pushAttributed(C,r);if(i=i.withContentNameScopesList(O),x.endHasBackReferences&&(i=i.withEndRule(x.getEndWithResolvedBackReferences(e.content,m))),!y&&S.hasSameRuleAs(i)){i=i.pop(),o.produce(i,a),c=!0;return}}else if(w instanceof rn){const x=w;ht(r,e,t,i,o,x.beginCaptures,m),o.produce(i,m[0].end),u=m[0].end;const C=x.getContentName(e.content,m),O=d.pushAttributed(C,r);if(i=i.withContentNameScopesList(O),x.whileHasBackReferences&&(i=i.withEndRule(x.getWhileWithResolvedBackReferences(e.content,m))),!y&&S.hasSameRuleAs(i)){i=i.pop(),o.produce(i,a),c=!0;return}}else if(ht(r,e,t,i,o,w.captures,m),o.produce(i,m[0].end),i=i.pop(),!y){i=i.safePop(),o.produce(i,a),c=!0;return}}m[0].end>n&&(n=m[0].end,t=!1)}}function ya(r,e,t,n,i,o){let s=i.beginRuleCapturedEOL?0:-1;const l=[];for(let a=i;a;a=a.pop()){const c=a.getRule(r);c instanceof rn&&l.push({rule:c,stack:a})}for(let a=l.pop();a;a=l.pop()){const{ruleScanner:c,findOptions:u}=_a(a.rule,r,a.stack.endRule,t,n===s),h=c.findNextMatchSync(e,n,u);if(h){if(h.ruleId!==wi){i=a.stack.pop();break}h.captureIndices&&h.captureIndices.length&&(o.produce(a.stack,h.captureIndices[0].start),ht(r,e,t,a.stack,o,a.rule.whileCaptures,h.captureIndices),o.produce(a.stack,h.captureIndices[0].end),s=h.captureIndices[0].end,h.captureIndices[0].end>n&&(n=h.captureIndices[0].end,t=!1))}else{i=a.stack.pop();break}}return{stack:i,linePos:n,anchorPosition:s,isFirstLine:t}}function ba(r,e,t,n,i,o){const s=wa(r,e,t,n,i,o),l=r.getInjections();if(l.length===0)return s;const a=Ca(l,r,e,t,n,i,o);if(!a)return s;if(!s)return a;const c=s.captureIndices[0].start,u=a.captureIndices[0].start;return u<c||a.priorityMatch&&u===c?a:s}function wa(r,e,t,n,i,o){const s=i.getRule(r),{ruleScanner:l,findOptions:a}=Si(s,r,i.endRule,t,n===o),c=l.findNextMatchSync(e,n,a);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function Ca(r,e,t,n,i,o,s){let l=Number.MAX_VALUE,a=null,c,u=0;const h=o.contentNameScopesList.getScopeNames();for(let f=0,g=r.length;f<g;f++){const m=r[f];if(!m.matcher(h))continue;const v=e.getRule(m.ruleId),{ruleScanner:y,findOptions:w}=Si(v,e,null,n,i===s),S=y.findNextMatchSync(t,i,w);if(!S)continue;const E=S.captureIndices[0].start;if(!(E>=l)&&(l=E,a=S.captureIndices,c=S.ruleId,u=m.priority,l===i))break}return a?{priorityMatch:u===-1,captureIndices:a,matchedRuleId:c}:null}function Si(r,e,t,n,i){return{ruleScanner:r.compileAG(e,t,n,i),findOptions:0}}function _a(r,e,t,n,i){return{ruleScanner:r.compileWhileAG(e,t,n,i),findOptions:0}}function ht(r,e,t,n,i,o,s){if(o.length===0)return;const l=e.content,a=Math.min(o.length,s.length),c=[],u=s[0].end;for(let h=0;h<a;h++){const f=o[h];if(f===null)continue;const g=s[h];if(g.length===0)continue;if(g.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=g.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,g.start):i.produce(n,g.start),f.retokenizeCapturedWithRuleId){const v=f.getName(l,s),y=n.contentNameScopesList.pushAttributed(v,r),w=f.getContentName(l,s),S=y.pushAttributed(w,r),E=n.push(f.retokenizeCapturedWithRuleId,g.start,-1,!1,null,y,S),d=r.createOnigString(l.substring(0,g.end));_i(r,d,t&&g.start===0,g.start,E,i,!1,0),hi(d);continue}const m=f.getName(l,s);if(m!==null){const y=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(m,r);c.push(new Sa(y,g.end))}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}class Sa{constructor(e,t){p(this,"scopes");p(this,"endPos");this.scopes=e,this.endPos=t}}function xa(r,e,t,n,i,o,s,l){return new Ea(r,e,t,n,i,o,s,l)}function Rr(r,e,t,n,i){const o=tn(e,sn),s=G.getCompiledRuleId(t,n,i.repository);for(const l of o)r.push({debugSelector:e,matcher:l.matcher,ruleId:s,grammar:i,priority:l.priority})}function sn(r,e){if(e.length<r.length)return!1;let t=0;return r.every(n=>{for(let i=t;i<e.length;i++)if(Ta(e[i],n))return t=i+1,!0;return!1})}function Ta(r,e){if(!r)return!1;if(r===e)return!0;const t=e.length;return r.length>t&&r.substr(0,t)===e&&r[t]==="."}class Ea{constructor(e,t,n,i,o,s,l,a){p(this,"_rootScopeName");p(this,"balancedBracketSelectors");p(this,"_onigLib");p(this,"_rootId");p(this,"_lastRuleId");p(this,"_ruleId2desc");p(this,"_includedGrammars");p(this,"_grammarRepository");p(this,"_grammar");p(this,"_injections");p(this,"_basicScopeAttributesProvider");p(this,"_tokenTypeMatchers");if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=a,this._basicScopeAttributesProvider=new Mn(n,i),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=l,this._grammar=Or(t,null),this._injections=null,this._tokenTypeMatchers=[],o)for(const c of Object.keys(o)){const u=tn(c,sn);for(const h of u)this._tokenTypeMatchers.push({matcher:h.matcher,type:o[c]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:o=>o===this._rootScopeName?this._grammar:this.getExternalGrammar(o),injections:o=>this._grammarRepository.injections(o)},t=[],n=this._rootScopeName,i=e.lookup(n);if(i){const o=i.injections;if(o)for(let l in o)Rr(t,l,o[l],this,i);const s=this._grammarRepository.injections(n);s&&s.forEach(l=>{const a=this.getExternalGrammar(l);if(a){const c=a.injectionSelector;c&&Rr(t,c,a,this,a)}})}return t.sort((o,s)=>o.priority-s.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,n=e(t);return this._ruleId2desc[t]=n,n}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=Or(n,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,n=0){const i=this._tokenize(e,t,!1,n);return{tokens:i.lineTokens.getResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}tokenizeLine2(e,t,n=0){const i=this._tokenize(e,t,!0,n);return{tokens:i.lineTokens.getBinaryResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}_tokenize(e,t,n,i){this._rootId===-1&&(this._rootId=G.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let o;if(!t||t===xt.NULL){o=!0;const u=this._basicScopeAttributesProvider.getDefaultAttributes(),h=this.themeProvider.getDefaults(),f=nt.set(0,u.languageId,u.tokenType,null,h.fontStyle,h.foregroundId,h.backgroundId),g=this.getRule(this._rootId).getName(null,null);let m;g?m=Y.createRootAndLookUpScopeName(g,f,this):m=Y.createRoot("unknown",f),t=new xt(null,this._rootId,-1,-1,!1,null,m,m)}else o=!1,t.reset();e=e+`
`;const s=this.createOnigString(e),l=s.content.length,a=new Ra(n,e,this._tokenTypeMatchers,this.balancedBracketSelectors),c=_i(this,s,o,0,t,a,!0,i);return hi(s),{lineLength:l,lineTokens:a,ruleStack:c.stack,stoppedEarly:c.stoppedEarly}}}function Or(r,e){return r=Ys(r),r.repository=r.repository||{},r.repository.$self={$vscodeTextmateLocation:r.$vscodeTextmateLocation,patterns:r.patterns,name:r.scopeName},r.repository.$base=e||r.repository.$self,r}class Y{constructor(e,t,n){p(this,"parent");p(this,"scopePath");p(this,"tokenAttributes");this.parent=e,this.scopePath=t,this.tokenAttributes=n}static fromExtension(e,t){let n=e,i=(e==null?void 0:e.scopePath)??null;for(const o of t)i=Fe.push(i,o.scopeNames),n=new Y(n,i,o.encodedTokenAttributes);return n}static createRoot(e,t){return new Y(null,new Fe(null,e),t)}static createRootAndLookUpScopeName(e,t,n){const i=n.getMetadataForScope(e),o=new Fe(null,e),s=n.themeProvider.themeMatch(o),l=Y.mergeAttributes(t,i,s);return new Y(null,o,l)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Y.equals(this,e)}static equals(e,t){do{if(e===t||!e&&!t)return!0;if(!e||!t||e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}while(!0)}static mergeAttributes(e,t,n){let i=-1,o=0,s=0;return n!==null&&(i=n.fontStyle,o=n.foregroundId,s=n.backgroundId),nt.set(e,t.languageId,t.tokenType,null,i,o,s)}pushAttributed(e,t){if(e===null)return this;if(e.indexOf(" ")===-1)return Y._pushAttributed(this,e,t);const n=e.split(/ /g);let i=this;for(const o of n)i=Y._pushAttributed(i,o,t);return i}static _pushAttributed(e,t,n){const i=n.getMetadataForScope(t),o=e.scopePath.push(t),s=n.themeProvider.themeMatch(o),l=Y.mergeAttributes(e.tokenAttributes,i,s);return new Y(e,o,l)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var i;const t=[];let n=this;for(;n&&n!==e;)t.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(((i=n.parent)==null?void 0:i.scopePath)??null)}),n=n.parent;return n===e?t.reverse():void 0}}const Se=class Se{constructor(e,t,n,i,o,s,l,a){p(this,"parent");p(this,"ruleId");p(this,"beginRuleCapturedEOL");p(this,"endRule");p(this,"nameScopesList");p(this,"contentNameScopesList");p(this,"_stackElementBrand");p(this,"_enterPos");p(this,"_anchorPos");p(this,"depth");this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=o,this.endRule=s,this.nameScopesList=l,this.contentNameScopesList=a,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=i}equals(e){return e===null?!1:Se._equals(this,e)}static _equals(e,t){return e===t?!0:this._structuralEquals(e,t)?Y.equals(e.contentNameScopesList,t.contentNameScopesList):!1}static _structuralEquals(e,t){do{if(e===t||!e&&!t)return!0;if(!e||!t||e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Se._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,t,n,i,o,s,l){return new Se(this,e,t,n,i,o,s,l)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,t){var n,i;return this.parent&&(t=this.parent._writeString(e,t)),e[t++]=`(${this.ruleId}, ${(n=this.nameScopesList)==null?void 0:n.toString()}, ${(i=this.contentNameScopesList)==null?void 0:i.toString()})`,t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Se(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){var e,t,n;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((t=this.nameScopesList)==null?void 0:t.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((n=this.contentNameScopesList)==null?void 0:n.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,t){const n=Y.fromExtension((e==null?void 0:e.nameScopesList)??null,t.nameScopesList);return new Se(e,t.ruleId,t.enterPos??-1,t.anchorPos??-1,t.beginRuleCapturedEOL,t.endRule,n,Y.fromExtension(n,t.contentNameScopesList))}};p(Se,"NULL",new Se(null,0,0,0,!1,null,null,null));let xt=Se;class Aa{constructor(e,t){p(this,"balancedBracketScopes");p(this,"unbalancedBracketScopes");p(this,"allowAny",!1);this.balancedBracketScopes=e.flatMap(n=>n==="*"?(this.allowAny=!0,[]):tn(n,sn).map(i=>i.matcher)),this.unbalancedBracketScopes=t.flatMap(n=>tn(n,sn).map(i=>i.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}}class Ra{constructor(e,t,n,i){p(this,"balancedBracketSelectors");p(this,"_emitBinaryTokens");p(this,"_lineText");p(this,"_tokens");p(this,"_binaryTokens");p(this,"_lastTokenEndIndex");p(this,"_tokenTypeOverrides");this.balancedBracketSelectors=i,this._emitBinaryTokens=e,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){var i;if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let o=(e==null?void 0:e.tokenAttributes)??0,s=!1;if((i=this.balancedBracketSelectors)!=null&&i.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const l=(e==null?void 0:e.getScopeNames())??[];for(const a of this._tokenTypeOverrides)a.matcher(l)&&(o=nt.set(o,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(l))}if(s&&(o=nt.set(o,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===o){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(o),this._lastTokenEndIndex=t;return}const n=(e==null?void 0:e.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:n}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let i=0,o=this._binaryTokens.length;i<o;i++)n[i]=this._binaryTokens[i];return n}}class Oa{constructor(e,t){p(this,"_onigLibPromise");p(this,"_grammars",new Map);p(this,"_rawGrammars",new Map);p(this,"_injectionGrammars",new Map);p(this,"_theme");this._onigLibPromise=t,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}async grammarForScopeName(e,t,n,i,o){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,xa(e,s,t,n,i,o,this,await this._onigLibPromise))}return this._grammars.get(e)}}let La=class{constructor(e){p(this,"_options");p(this,"_syncRegistry");p(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new Oa(on.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(on.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,n){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:n})}loadGrammarWithConfiguration(e,t,n){return this._loadGrammar(e,t,n.embeddedLanguages,n.tokenTypes,new Aa(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}async _loadGrammar(e,t,n,i,o){const s=new ea(this._syncRegistry,e);for(;s.Q.length>0;)await Promise.all(s.Q.map(l=>this._loadSingleGrammar(l.scopeName))),s.processQueue();return this._grammarForScopeName(e,t,n,i,o)}async _loadSingleGrammar(e){return this._ensureGrammarCache.has(e)||this._ensureGrammarCache.set(e,this._doLoadSingleGrammar(e)),this._ensureGrammarCache.get(e)}async _doLoadSingleGrammar(e){const t=await this._options.loadGrammar(e);if(t){const n=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,n)}}async addGrammar(e,t=[],n=0,i=null){return this._syncRegistry.addGrammar(e,t),await this._grammarForScopeName(e.scopeName,n,i)}_grammarForScopeName(e,t=0,n=null,i=null,o=null){return this._syncRegistry.grammarForScopeName(e,t,n,i,o)}};const ka=xt.NULL,z={LANGUAGEID_MASK:255,TOKEN_TYPE_MASK:768,BALANCED_BRACKETS_MASK:1024,FONT_STYLE_MASK:14336,FOREGROUND_MASK:8372224,BACKGROUND_MASK:4286578688,LANGUAGEID_OFFSET:0,TOKEN_TYPE_OFFSET:8,BALANCED_BRACKETS_OFFSET:10,FONT_STYLE_OFFSET:11,FOREGROUND_OFFSET:15,BACKGROUND_OFFSET:24};class xe{static toBinaryStr(e){let t=e.toString(2);for(;t.length<32;)t=`0${t}`;return t}static getLanguageId(e){return(e&z.LANGUAGEID_MASK)>>>z.LANGUAGEID_OFFSET}static getTokenType(e){return(e&z.TOKEN_TYPE_MASK)>>>z.TOKEN_TYPE_OFFSET}static getFontStyle(e){return(e&z.FONT_STYLE_MASK)>>>z.FONT_STYLE_OFFSET}static getForeground(e){return(e&z.FOREGROUND_MASK)>>>z.FOREGROUND_OFFSET}static getBackground(e){return(e&z.BACKGROUND_MASK)>>>z.BACKGROUND_OFFSET}static containsBalancedBrackets(e){return(e&z.BALANCED_BRACKETS_MASK)!==0}static set(e,t,n,i,o,s){let l=xe.getLanguageId(e),a=xe.getTokenType(e),c=xe.getFontStyle(e),u=xe.getForeground(e),h=xe.getBackground(e);const f=xe.containsBalancedBrackets(e)?1:0;return t!==0&&(l=t),n!==0&&(a=n===8?0:n),i!==he.NotSet&&(c=i),o!==0&&(u=o),s!==0&&(h=s),(l<<z.LANGUAGEID_OFFSET|a<<z.TOKEN_TYPE_OFFSET|c<<z.FONT_STYLE_OFFSET|f<<z.BALANCED_BRACKETS_OFFSET|u<<z.FOREGROUND_OFFSET|h<<z.BACKGROUND_OFFSET)>>>0}}function pn(r,e=!1){var o;const t=r.split(/(\r?\n)/g);let n=0;const i=[];for(let s=0;s<t.length;s+=2){const l=e?t[s]+(t[s+1]||""):t[s];i.push([l,n]),n+=t[s].length,n+=((o=t[s+1])==null?void 0:o.length)||0}return i}function xi(r){return!r||["plaintext","txt","text","plain"].includes(r)}function Na(r){return r==="ansi"||xi(r)}function Ti(r){return r==="none"}function Pa(r){return Ti(r)}function Ei(r,e){var n;if(!e)return r;r.properties||(r.properties={}),(n=r.properties).class||(n.class=[]),typeof r.properties.class=="string"&&(r.properties.class=r.properties.class.split(/\s+/g)),Array.isArray(r.properties.class)||(r.properties.class=[]);const t=Array.isArray(e)?e:e.split(/\s+/g);for(const i of t)i&&!r.properties.class.includes(i)&&r.properties.class.push(i);return r}function Ia(r,e){let t=0;const n=[];for(const i of e)i>t&&n.push({...r,content:r.content.slice(t,i),offset:r.offset+t}),t=i;return t<r.content.length&&n.push({...r,content:r.content.slice(t),offset:r.offset+t}),n}function Ma(r,e){const t=Array.from(e instanceof Set?e:new Set(e)).sort((n,i)=>n-i);return t.length?r.map(n=>n.flatMap(i=>{const o=t.filter(s=>i.offset<s&&s<i.offset+i.content.length).map(s=>s-i.offset).sort((s,l)=>s-l);return o.length?Ia(i,o):i})):r}function Me(r,e){return r&&((e==null?void 0:e[r==null?void 0:r.toLowerCase()])||r)}function Ai(r){const e={};return r.color&&(e.color=r.color),r.bgColor&&(e["background-color"]=r.bgColor),r.fontStyle&&(r.fontStyle&he.Italic&&(e["font-style"]="italic"),r.fontStyle&he.Bold&&(e["font-weight"]="bold"),r.fontStyle&he.Underline&&(e["text-decoration"]="underline")),e}function Ri(r){return Object.entries(r).map(([e,t])=>`${e}:${t}`).join(";")}function Da(r){const e=pn(r,!0).map(([i])=>i);function t(i){let o=i,s=0;for(const l of e){if(o<l.length)break;o-=l.length,s++}return{line:s,character:o}}function n(i,o){let s=0;for(let l=0;l<i;l++)s+=e[l].length;return s+=o,s}return{lines:e,indexToPos:t,posToIndex:n}}var De=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],xn={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function Ba(r,e){const t=r.indexOf("\x1B[",e);if(t!==-1){const n=r.indexOf("m",t);return{sequence:r.substring(t+2,n).split(";"),startPosition:t,position:n+1}}return{position:r.length}}function Lr(r,e){let t=1;const n=r[e+t++];let i;if(n==="2"){const o=[r[e+t++],r[e+t++],r[e+t]].map(s=>Number.parseInt(s));o.length===3&&!o.some(s=>Number.isNaN(s))&&(i={type:"rgb",rgb:o})}else if(n==="5"){const o=Number.parseInt(r[e+t]);Number.isNaN(o)||(i={type:"table",index:Number(o)})}return[t,i]}function Fa(r){const e=[];for(let t=0;t<r.length;t++){const n=r[t],i=Number.parseInt(n);if(!Number.isNaN(i))if(i===0)e.push({type:"resetAll"});else if(i<=9)xn[i]&&e.push({type:"setDecoration",value:xn[i]});else if(i<=29){const o=xn[i-20];o&&e.push({type:"resetDecoration",value:o})}else if(i<=37)e.push({type:"setForegroundColor",value:{type:"named",name:De[i-30]}});else if(i===38){const[o,s]=Lr(r,t);s&&e.push({type:"setForegroundColor",value:s}),t+=o}else if(i===39)e.push({type:"resetForegroundColor"});else if(i<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:De[i-40]}});else if(i===48){const[o,s]=Lr(r,t);s&&e.push({type:"setBackgroundColor",value:s}),t+=o}else i===49?e.push({type:"resetBackgroundColor"}):i>=90&&i<=97?e.push({type:"setForegroundColor",value:{type:"named",name:De[i-90+8]}}):i>=100&&i<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:De[i-100+8]}})}return e}function ja(){let r=null,e=null,t=new Set;return{parse(n){const i=[];let o=0;do{const s=Ba(n,o),l=s.sequence?n.substring(o,s.startPosition):n.substring(o);if(l.length>0&&i.push({value:l,foreground:r,background:e,decorations:new Set(t)}),s.sequence){const a=Fa(s.sequence);for(const c of a)c.type==="resetAll"?(r=null,e=null,t.clear()):c.type==="resetForegroundColor"?r=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&t.delete(c.value);for(const c of a)c.type==="setForegroundColor"?r=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&t.add(c.value)}o=s.position}while(o<n.length);return i}}}var $a={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Ua(r=$a){function e(l){return r[l]}function t(l){return`#${l.map(a=>Math.max(0,Math.min(a,255)).toString(16).padStart(2,"0")).join("")}`}let n;function i(){if(n)return n;n=[];for(let c=0;c<De.length;c++)n.push(e(De[c]));let l=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let u=0;u<6;u++)for(let h=0;h<6;h++)n.push(t([l[c],l[u],l[h]]));let a=8;for(let c=0;c<24;c++,a+=10)n.push(t([a,a,a]));return n}function o(l){return i()[l]}function s(l){switch(l.type){case"named":return e(l.name);case"rgb":return t(l.rgb);case"table":return o(l.index)}}return{value:s}}function Ga(r,e,t){const n={...r.colorReplacements,...t==null?void 0:t.colorReplacements},i=pn(e),o=Ua(Object.fromEntries(De.map(l=>{var a;return[l,(a=r.colors)==null?void 0:a[`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`]]}))),s=ja();return i.map(l=>s.parse(l[0]).map(a=>{let c,u;a.decorations.has("reverse")?(c=a.background?o.value(a.background):r.bg,u=a.foreground?o.value(a.foreground):r.fg):(c=a.foreground?o.value(a.foreground):r.fg,u=a.background?o.value(a.background):void 0),c=Me(c,n),u=Me(u,n),a.decorations.has("dim")&&(c=Wa(c));let h=he.None;return a.decorations.has("bold")&&(h|=he.Bold),a.decorations.has("italic")&&(h|=he.Italic),a.decorations.has("underline")&&(h|=he.Underline),{content:a.value,offset:l[1],color:c,bgColor:u,fontStyle:h}}))}function Wa(r){const e=r.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const n=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${n}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(n=>`${n}${n}`).join("")}80`;const t=r.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return t?`var(${t[1]}-dim)`:r}function Qn(r,e,t={}){const{lang:n="text",theme:i=r.getLoadedThemes()[0]}=t;if(xi(n)||Ti(i))return pn(e).map(a=>[{content:a[0],offset:a[1]}]);const{theme:o,colorMap:s}=r.setTheme(i);if(n==="ansi")return Ga(o,e,t);const l=r.getLanguage(n);return Ha(e,l,o,s,t)}function Ha(r,e,t,n,i){const o={...t.colorReplacements,...i==null?void 0:i.colorReplacements},{tokenizeMaxLineLength:s=0,tokenizeTimeLimit:l=500}=i,a=pn(r);let c=ka,u=[];const h=[];for(let f=0,g=a.length;f<g;f++){const[m,v]=a[f];if(m===""){u=[],h.push([]);continue}if(s>0&&m.length>=s){u=[],h.push([{content:m,offset:v,color:"",fontStyle:0}]);continue}let y,w,S;i.includeExplanation&&(y=e.tokenizeLine(m,c),w=y.tokens,S=0);const E=e.tokenizeLine2(m,c,l),d=E.tokens.length/2;for(let x=0;x<d;x++){const C=E.tokens[2*x],O=x+1<d?E.tokens[2*x+2]:m.length;if(C===O)continue;const k=E.tokens[2*x+1],A=Me(n[xe.getForeground(k)],o),N=xe.getFontStyle(k),B={content:m.substring(C,O),offset:v+C,color:A,fontStyle:N};if(i.includeExplanation){B.explanation=[];let D=0;for(;C+D<O;){const I=w[S],$=m.substring(I.startIndex,I.endIndex);D+=$.length,B.explanation.push({content:$,scopes:za(t,I.scopes)}),S+=1}}u.push(B)}h.push(u),u=[],c=E.ruleStack}return h}function za(r,e){const t=[];for(let n=0,i=e.length;n<i;n++){const o=e.slice(0,n),s=e[n];t[n]={scopeName:s,themeMatches:Va(r,s,o)}}return t}function kr(r,e){const t=`${r}.`;return r===e||e.substring(0,t.length)===t}function qa(r,e,t,n){if(!kr(r,t))return!1;let i=e.length-1,o=n.length-1;for(;i>=0&&o>=0;)kr(e[i],n[o])&&(i-=1),o-=1;return i===-1}function Va(r,e,t){const n=[];let i=0;for(let o=0,s=r.settings.length;o<s;o++){const l=r.settings[o];let a;if(typeof l.scope=="string")a=l.scope.split(/,/).map(c=>c.trim());else if(Array.isArray(l.scope))a=l.scope;else continue;for(let c=0,u=a.length;c<u;c++){const f=a[c].split(/ /),g=f[f.length-1],m=f.slice(0,f.length-1);qa(g,m,e,t)&&(n[i++]=l,c=u)}}return n}function Oi(r,e,t){const n=Object.entries(t.themes).filter(s=>s[1]).map(s=>({color:s[0],theme:s[1]})),i=Ka(...n.map(s=>Qn(r,e,{...t,theme:s.theme})));return i[0].map((s,l)=>s.map((a,c)=>{const u={content:a.content,variants:{},offset:a.offset};return i.forEach((h,f)=>{const{content:g,explanation:m,offset:v,...y}=h[l][c];u.variants[n[f].color]=y}),u}))}function Ka(...r){const e=r.map(()=>[]),t=r.length;for(let n=0;n<r[0].length;n++){const i=r.map(a=>a[n]),o=e.map(()=>[]);e.forEach((a,c)=>a.push(o[c]));const s=i.map(()=>0),l=i.map(a=>a[0]);for(;l.every(a=>a);){const a=Math.min(...l.map(c=>c.content.length));for(let c=0;c<t;c++){const u=l[c];u.content.length===a?(o[c].push(u),s[c]+=1,l[c]=i[c][s[c]]):(o[c].push({...u,content:u.content.slice(0,a)}),l[c]={...u,content:u.content.slice(a),offset:u.offset+a})}}}return e}class X extends Error{constructor(e){super(e),this.name="ShikiError"}}function an(r,e,t){let n,i,o,s,l;if("themes"in t){const{defaultColor:a="light",cssVariablePrefix:c="--shiki-",colorReplacements:u}=t,h=Object.entries(t.themes).filter(v=>v[1]).map(v=>({color:v[0],theme:v[1]})).sort((v,y)=>v.color===a?-1:y.color===a?1:0);if(h.length===0)throw new X("`themes` option must not be empty");const f=Oi(r,e,t);if(a&&!h.find(v=>v.color===a))throw new X(`\`themes\` option must contain the defaultColor key \`${a}\``);const g=h.map(v=>r.getTheme(v.theme)),m=h.map(v=>v.color);o=f.map(v=>v.map(y=>Ya(y,m,c,a))),i=h.map((v,y)=>(y===0&&a?"":`${c+v.color}:`)+(Me(g[y].fg,u)||"inherit")).join(";"),n=h.map((v,y)=>(y===0&&a?"":`${c+v.color}-bg:`)+(Me(g[y].bg,u)||"inherit")).join(";"),s=`shiki-themes ${g.map(v=>v.name).join(" ")}`,l=a?void 0:[i,n].join(";")}else if("theme"in t){const{colorReplacements:a}=t;o=Qn(r,e,t);const c=r.getTheme(t.theme);n=Me(c.bg,a),i=Me(c.fg,a),s=c.name}else throw new X("Invalid options, either `theme` or `themes` must be provided");return{tokens:o,fg:i,bg:n,themeName:s,rootStyle:l}}function Ya(r,e,t,n){const i={content:r.content,explanation:r.explanation,offset:r.offset},o=e.map(a=>Ai(r.variants[a])),s=new Set(o.flatMap(a=>Object.keys(a))),l=o.reduce((a,c,u)=>{for(const h of s){const f=c[h]||"inherit";if(u===0&&n)a[h]=f;else{const g=h==="color"?"":h==="background-color"?"-bg":`-${h}`,m=t+e[u]+(h==="color"?"":g);a[h]?a[h]+=`;${m}:${f}`:a[h]=`${m}:${f}`}}return a},{});return i.htmlStyle=n?Ri(l):Object.values(l).join(";"),i}function Xa(){const r=new WeakMap;function e(n){if(!r.has(n.meta)){let o=function(l){return typeof l=="number"?{...i.indexToPos(l),offset:l}:{...l,offset:i.posToIndex(l.line,l.character)}};const i=Da(n.source),s=(n.options.decorations||[]).map(l=>({...l,start:o(l.start),end:o(l.end)}));t(s),r.set(n.meta,{decorations:s,converter:i,source:n.source})}return r.get(n.meta)}function t(n){for(let i=0;i<n.length;i++){const o=n[i];if(o.start.offset>o.end.offset)throw new X(`Invalid decoration range: ${JSON.stringify(o.start)} - ${JSON.stringify(o.end)}`);for(let s=i+1;s<n.length;s++){const l=n[s],a=o.start.offset<l.start.offset&&l.start.offset<o.end.offset,c=o.start.offset<l.end.offset&&l.end.offset<o.end.offset,u=l.start.offset<o.start.offset&&o.start.offset<l.end.offset,h=l.start.offset<o.end.offset&&o.end.offset<l.end.offset;if(a||c||u||h){if(c&&c||u&&h)continue;throw new X(`Decorations ${JSON.stringify(o.start)} and ${JSON.stringify(l.start)} intersect.`)}}}}return{name:"shiki:decorations",tokens(n){var l;if(!((l=this.options.decorations)!=null&&l.length))return;const o=e(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return Ma(n,o)},code(n){var h;if(!((h=this.options.decorations)!=null&&h.length))return;const i=e(this),o=Array.from(n.children).filter(f=>f.type==="element"&&f.tagName==="span");if(o.length!==i.converter.lines.length)throw new X(`Number of lines in code element (${o.length}) does not match the number of lines in the source (${i.converter.lines.length}). Failed to apply decorations.`);function s(f,g,m,v){const y=o[f];let w="",S=-1,E=-1;function d(C){return C.type==="text"?C.value:C.type==="element"?C.children.map(d).join(""):""}if(g===0&&(S=0),m===0&&(E=0),m===Number.POSITIVE_INFINITY&&(E=y.children.length),S===-1||E===-1)for(let C=0;C<y.children.length;C++)w+=d(y.children[C]),S===-1&&w.length===g&&(S=C+1),E===-1&&w.length===m&&(E=C+1);if(S===-1)throw new X(`Failed to find start index for decoration ${JSON.stringify(v.start)}`);if(E===-1)throw new X(`Failed to find end index for decoration ${JSON.stringify(v.end)}`);const x=y.children.slice(S,E);if(!v.alwaysWrap&&x.length===y.children.length)a(y,v,"line");else if(!v.alwaysWrap&&x.length===1&&x[0].type==="element")a(x[0],v,"token");else{const C={type:"element",tagName:"span",properties:{},children:x};a(C,v,"wrapper"),y.children.splice(S,x.length,C)}}function l(f,g){o[f]=a(o[f],g,"line")}function a(f,g,m){var w;const v=g.properties||{},y=g.transform||(S=>S);return f.tagName=g.tagName||"span",f.properties={...f.properties,...v,class:f.properties.class},(w=g.properties)!=null&&w.class&&Ei(f,g.properties.class),f=y(f,m)||f,f}const c=[],u=i.decorations.sort((f,g)=>g.start.offset-f.start.offset);for(const f of u){const{start:g,end:m}=f;if(g.line===m.line)s(g.line,g.character,m.character,f);else if(g.line<m.line){s(g.line,g.character,Number.POSITIVE_INFINITY,f);for(let v=g.line+1;v<m.line;v++)c.unshift(()=>l(v,f));s(m.line,0,m.character,f)}}c.forEach(f=>f())}}}const Qa=[Xa()];function ln(r){return[...r.transformers||[],...Qa]}function cn(r,e,t,n={meta:{},options:t,codeToHast:(i,o)=>cn(r,i,o),codeToTokens:(i,o)=>an(r,i,o)}){var f,g;let i=e;for(const m of ln(t))i=((f=m.preprocess)==null?void 0:f.call(n,i,t))||i;let{tokens:o,fg:s,bg:l,themeName:a,rootStyle:c}=an(r,i,t);const{mergeWhitespaces:u=!0}=t;u===!0?o=Za(o):u==="never"&&(o=el(o));const h={...n,get source(){return i}};for(const m of ln(t))o=((g=m.tokens)==null?void 0:g.call(h,o))||o;return Ja(o,{...t,fg:s,bg:l,themeName:a,rootStyle:c},h)}function Ja(r,e,t){var f,g,m;const n=ln(e),i=[],o={type:"root",children:[]},{structure:s="classic"}=e;let l={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,tabindex:"0",...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([v])=>!v.startsWith("_")))},children:[]},a={type:"element",tagName:"code",properties:{},children:i};const c=[],u={...t,structure:s,addClassToHast:Ei,get source(){return t.source},get tokens(){return r},get options(){return e},get root(){return o},get pre(){return l},get code(){return a},get lines(){return c}};if(r.forEach((v,y)=>{var E,d;y&&(s==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):s==="classic"&&i.push({type:"text",value:`
`}));let w={type:"element",tagName:"span",properties:{class:"line"},children:[]},S=0;for(const x of v){let C={type:"element",tagName:"span",properties:{},children:[{type:"text",value:x.content}]};const O=x.htmlStyle||Ri(Ai(x));O&&(C.properties.style=O);for(const k of n)C=((E=k==null?void 0:k.span)==null?void 0:E.call(u,C,y+1,S,w))||C;s==="inline"?o.children.push(C):s==="classic"&&w.children.push(C),S+=x.content.length}if(s==="classic"){for(const x of n)w=((d=x==null?void 0:x.line)==null?void 0:d.call(u,w,y+1))||w;c.push(w),i.push(w)}}),s==="classic"){for(const v of n)a=((f=v==null?void 0:v.code)==null?void 0:f.call(u,a))||a;l.children.push(a);for(const v of n)l=((g=v==null?void 0:v.pre)==null?void 0:g.call(u,l))||l;o.children.push(l)}let h=o;for(const v of n)h=((m=v==null?void 0:v.root)==null?void 0:m.call(u,h))||h;return h}function Za(r){return r.map(e=>{const t=[];let n="",i=0;return e.forEach((o,s)=>{const a=!(o.fontStyle&&o.fontStyle&he.Underline);a&&o.content.match(/^\s+$/)&&e[s+1]?(i||(i=o.offset),n+=o.content):n?(a?t.push({...o,offset:i,content:n+o.content}):t.push({content:n,offset:i},o),i=0,n=""):t.push(o)}),t})}function el(r){return r.map(e=>e.flatMap(t=>{if(t.content.match(/^\s+$/))return t;const n=t.content.match(/^(\s*)(.*?)(\s*)$/);if(!n)return t;const[,i,o,s]=n;if(!i&&!s)return t;const l=[{...t,offset:t.offset+i.length,content:o}];return i&&l.unshift({content:i,offset:t.offset}),s&&l.push({content:s,offset:t.offset+i.length+o.length}),l}))}const tl=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Ot{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}Ot.prototype.property={};Ot.prototype.normal={};Ot.prototype.space=null;function Li(r,e){const t={},n={};let i=-1;for(;++i<r.length;)Object.assign(t,r[i].property),Object.assign(n,r[i].normal);return new Ot(t,n,e)}function Dn(r){return r.toLowerCase()}class le{constructor(e,t){this.property=e,this.attribute=t}}le.prototype.space=null;le.prototype.boolean=!1;le.prototype.booleanish=!1;le.prototype.overloadedBoolean=!1;le.prototype.number=!1;le.prototype.commaSeparated=!1;le.prototype.spaceSeparated=!1;le.prototype.commaOrSpaceSeparated=!1;le.prototype.mustUseProperty=!1;le.prototype.defined=!1;let nl=0;const L=Ge(),j=Ge(),ki=Ge(),_=Ge(),F=Ge(),Xe=Ge(),ne=Ge();function Ge(){return 2**++nl}var Bn=Object.freeze({__proto__:null,boolean:L,booleanish:j,commaOrSpaceSeparated:ne,commaSeparated:Xe,number:_,overloadedBoolean:ki,spaceSeparated:F});const Tn=Object.keys(Bn);class Jn extends le{constructor(e,t,n,i){let o=-1;if(super(e,t),Nr(this,"space",i),typeof n=="number")for(;++o<Tn.length;){const s=Tn[o];Nr(this,Tn[o],(n&Bn[s])===Bn[s])}}}Jn.prototype.defined=!0;function Nr(r,e,t){t&&(r[e]=t)}const rl={}.hasOwnProperty;function rt(r){const e={},t={};let n;for(n in r.properties)if(rl.call(r.properties,n)){const i=r.properties[n],o=new Jn(n,r.transform(r.attributes||{},n),i,r.space);r.mustUseProperty&&r.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),e[n]=o,t[Dn(n)]=n,t[Dn(o.attribute)]=n}return new Ot(e,t,r.space)}const Ni=rt({space:"xlink",transform(r,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Pi=rt({space:"xml",transform(r,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Ii(r,e){return e in r?r[e]:e}function Mi(r,e){return Ii(r,e.toLowerCase())}const Di=rt({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Mi,properties:{xmlns:null,xmlnsXLink:null}}),Bi=rt({transform(r,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:j,ariaAutoComplete:null,ariaBusy:j,ariaChecked:j,ariaColCount:_,ariaColIndex:_,ariaColSpan:_,ariaControls:F,ariaCurrent:null,ariaDescribedBy:F,ariaDetails:null,ariaDisabled:j,ariaDropEffect:F,ariaErrorMessage:null,ariaExpanded:j,ariaFlowTo:F,ariaGrabbed:j,ariaHasPopup:null,ariaHidden:j,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:F,ariaLevel:_,ariaLive:null,ariaModal:j,ariaMultiLine:j,ariaMultiSelectable:j,ariaOrientation:null,ariaOwns:F,ariaPlaceholder:null,ariaPosInSet:_,ariaPressed:j,ariaReadOnly:j,ariaRelevant:null,ariaRequired:j,ariaRoleDescription:F,ariaRowCount:_,ariaRowIndex:_,ariaRowSpan:_,ariaSelected:j,ariaSetSize:_,ariaSort:null,ariaValueMax:_,ariaValueMin:_,ariaValueNow:_,ariaValueText:null,role:null}}),il=rt({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Mi,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xe,acceptCharset:F,accessKey:F,action:null,allow:null,allowFullScreen:L,allowPaymentRequest:L,allowUserMedia:L,alt:null,as:null,async:L,autoCapitalize:null,autoComplete:F,autoFocus:L,autoPlay:L,blocking:F,capture:null,charSet:null,checked:L,cite:null,className:F,cols:_,colSpan:null,content:null,contentEditable:j,controls:L,controlsList:F,coords:_|Xe,crossOrigin:null,data:null,dateTime:null,decoding:null,default:L,defer:L,dir:null,dirName:null,disabled:L,download:ki,draggable:j,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:L,formTarget:null,headers:F,height:_,hidden:L,high:_,href:null,hrefLang:null,htmlFor:F,httpEquiv:F,id:null,imageSizes:null,imageSrcSet:null,inert:L,inputMode:null,integrity:null,is:null,isMap:L,itemId:null,itemProp:F,itemRef:F,itemScope:L,itemType:F,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:L,low:_,manifest:null,max:null,maxLength:_,media:null,method:null,min:null,minLength:_,multiple:L,muted:L,name:null,nonce:null,noModule:L,noValidate:L,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:L,optimum:_,pattern:null,ping:F,placeholder:null,playsInline:L,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:L,referrerPolicy:null,rel:F,required:L,reversed:L,rows:_,rowSpan:_,sandbox:F,scope:null,scoped:L,seamless:L,selected:L,shadowRootDelegatesFocus:L,shadowRootMode:null,shape:null,size:_,sizes:null,slot:null,span:_,spellCheck:j,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_,step:null,style:null,tabIndex:_,target:null,title:null,translate:null,type:null,typeMustMatch:L,useMap:null,value:j,width:_,wrap:null,align:null,aLink:null,archive:F,axis:null,background:null,bgColor:null,border:_,borderColor:null,bottomMargin:_,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:L,declare:L,event:null,face:null,frame:null,frameBorder:null,hSpace:_,leftMargin:_,link:null,longDesc:null,lowSrc:null,marginHeight:_,marginWidth:_,noResize:L,noHref:L,noShade:L,noWrap:L,object:null,profile:null,prompt:null,rev:null,rightMargin:_,rules:null,scheme:null,scrolling:j,standby:null,summary:null,text:null,topMargin:_,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:L,disableRemotePlayback:L,prefix:null,property:null,results:_,security:null,unselectable:null}}),ol=rt({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Ii,properties:{about:ne,accentHeight:_,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_,amplitude:_,arabicForm:null,ascent:_,attributeName:null,attributeType:null,azimuth:_,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_,by:null,calcMode:null,capHeight:_,className:F,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_,diffuseConstant:_,direction:null,display:null,dur:null,divisor:_,dominantBaseline:null,download:L,dx:null,dy:null,edgeMode:null,editable:null,elevation:_,enableBackground:null,end:null,event:null,exponent:_,externalResourcesRequired:null,fill:null,fillOpacity:_,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xe,g2:Xe,glyphName:Xe,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_,horizOriginX:_,horizOriginY:_,id:null,ideographic:_,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_,k:_,k1:_,k2:_,k3:_,k4:_,kernelMatrix:ne,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_,overlineThickness:_,paintOrder:null,panose1:null,path:null,pathLength:_,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:F,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_,pointsAtY:_,pointsAtZ:_,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ne,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ne,rev:ne,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ne,requiredFeatures:ne,requiredFonts:ne,requiredFormats:ne,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_,specularExponent:_,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_,strikethroughThickness:_,string:null,stroke:null,strokeDashArray:ne,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_,strokeOpacity:_,strokeWidth:null,style:null,surfaceScale:_,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ne,tabIndex:_,tableValues:null,target:null,targetX:_,targetY:_,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ne,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_,underlineThickness:_,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_,values:null,vAlphabetic:_,vMathematical:_,vectorEffect:null,vHanging:_,vIdeographic:_,version:null,vertAdvY:_,vertOriginX:_,vertOriginY:_,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),sl=/^data[-\w.:]+$/i,Pr=/-[a-z]/g,al=/[A-Z]/g;function ll(r,e){const t=Dn(e);let n=e,i=le;if(t in r.normal)return r.property[r.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&sl.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Pr,ul);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Pr.test(o)){let s=o.replace(al,cl);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=Jn}return new i(n,e)}function cl(r){return"-"+r.toLowerCase()}function ul(r){return r.charAt(1).toUpperCase()}const fl=Li([Pi,Ni,Di,Bi,il],"html"),Fi=Li([Pi,Ni,Di,Bi,ol],"svg"),Ir={}.hasOwnProperty;function hl(r,e){const t=e||{};function n(i,...o){let s=n.invalid;const l=n.handlers;if(i&&Ir.call(i,r)){const a=String(i[r]);s=Ir.call(l,a)?l[a]:n.unknown}if(s)return s.call(this,i,...o)}return n.handlers=t.handlers||{},n.invalid=t.invalid,n.unknown=t.unknown,n}function dl(r,e){if(r=r.replace(e.subset?pl(e.subset):/["&'<>`]/g,n),e.subset||e.escapeOnly)return r;return r.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,n);function t(i,o,s){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,s.charCodeAt(o+2),e)}function n(i,o,s){return e.format(i.charCodeAt(0),s.charCodeAt(o+1),e)}}function pl(r){const e=[];let t=-1;for(;++t<r.length;)e.push(r[t].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function gl(r,e,t){const n="&#x"+r.toString(16).toUpperCase();return t&&e&&!/[\dA-Fa-f]/.test(String.fromCharCode(e))?n:n+";"}function ml(r,e,t){const n="&#"+String(r);return t&&e&&!/\d/.test(String.fromCharCode(e))?n:n+";"}const vl=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],En={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},yl=["cent","copy","divide","gt","lt","not","para","times"],ji={}.hasOwnProperty,Fn={};let qt;for(qt in En)ji.call(En,qt)&&(Fn[En[qt]]=qt);function bl(r,e,t,n){const i=String.fromCharCode(r);if(ji.call(Fn,i)){const o=Fn[i],s="&"+o;return t&&vl.includes(o)&&!yl.includes(o)&&(!n||e&&e!==61&&/[^\da-z]/i.test(String.fromCharCode(e)))?s:s+";"}return""}function wl(r,e,t){let n=gl(r,e,t.omitOptionalSemicolons),i;if((t.useNamedReferences||t.useShortestReferences)&&(i=bl(r,e,t.omitOptionalSemicolons,t.attribute)),(t.useShortestReferences||!i)&&t.useShortestReferences){const o=ml(r,e,t.omitOptionalSemicolons);o.length<n.length&&(n=o)}return i&&(!t.useShortestReferences||i.length<n.length)?i:n}function Qe(r,e){return dl(r,Object.assign({format:wl},e))}const Cl=/^>|^->|<!--|-->|--!>|<!-$/g,_l=[">"],Sl=["<",">"];function xl(r,e,t,n){return n.settings.bogusComments?"<?"+Qe(r.value,Object.assign({},n.settings.characterReferences,{subset:_l}))+">":"<!--"+r.value.replace(Cl,i)+"-->";function i(o){return Qe(o,Object.assign({},n.settings.characterReferences,{subset:Sl}))}}function Tl(r,e,t,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}function Mr(r,e){const t=String(r);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=t.indexOf(e);for(;i!==-1;)n++,i=t.indexOf(e,i+e.length);return n}function El(r,e){const t=e||{};return(r[r.length-1]===""?[...r,""]:r).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}function Al(r){return r.join(" ").trim()}const Rl=/[ \t\n\f\r]/g;function Zn(r){return typeof r=="object"?r.type==="text"?Dr(r.value):!1:Dr(r)}function Dr(r){return r.replace(Rl,"")===""}const U=Ui(1),$i=Ui(-1),Ol=[];function Ui(r){return e;function e(t,n,i){const o=t?t.children:Ol;let s=(n||0)+r,l=o[s];if(!i)for(;l&&Zn(l);)s+=r,l=o[s];return l}}const Ll={}.hasOwnProperty;function Gi(r){return e;function e(t,n,i){return Ll.call(r,t.tagName)&&r[t.tagName](t,n,i)}}const er=Gi({body:Nl,caption:An,colgroup:An,dd:Dl,dt:Ml,head:An,html:kl,li:Il,optgroup:Bl,option:Fl,p:Pl,rp:Br,rt:Br,tbody:$l,td:Fr,tfoot:Ul,th:Fr,thead:jl,tr:Gl});function An(r,e,t){const n=U(t,e,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Zn(n.value.charAt(0)))}function kl(r,e,t){const n=U(t,e);return!n||n.type!=="comment"}function Nl(r,e,t){const n=U(t,e);return!n||n.type!=="comment"}function Pl(r,e,t){const n=U(t,e);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!t||!(t.type==="element"&&(t.tagName==="a"||t.tagName==="audio"||t.tagName==="del"||t.tagName==="ins"||t.tagName==="map"||t.tagName==="noscript"||t.tagName==="video"))}function Il(r,e,t){const n=U(t,e);return!n||n.type==="element"&&n.tagName==="li"}function Ml(r,e,t){const n=U(t,e);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Dl(r,e,t){const n=U(t,e);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Br(r,e,t){const n=U(t,e);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function Bl(r,e,t){const n=U(t,e);return!n||n.type==="element"&&n.tagName==="optgroup"}function Fl(r,e,t){const n=U(t,e);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function jl(r,e,t){const n=U(t,e);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function $l(r,e,t){const n=U(t,e);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function Ul(r,e,t){return!U(t,e)}function Gl(r,e,t){const n=U(t,e);return!n||n.type==="element"&&n.tagName==="tr"}function Fr(r,e,t){const n=U(t,e);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const Wl=Gi({body:ql,colgroup:Vl,head:zl,html:Hl,tbody:Kl});function Hl(r){const e=U(r,-1);return!e||e.type!=="comment"}function zl(r){const e=r.children,t=[];let n=-1;for(;++n<e.length;){const i=e[n];if(i.type==="element"&&(i.tagName==="title"||i.tagName==="base")){if(t.includes(i.tagName))return!1;t.push(i.tagName)}}return e.length>0}function ql(r){const e=U(r,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Zn(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function Vl(r,e,t){const n=$i(t,e),i=U(r,-1,!0);return t&&n&&n.type==="element"&&n.tagName==="colgroup"&&er(n,t.children.indexOf(n),t)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function Kl(r,e,t){const n=$i(t,e),i=U(r,-1);return t&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&er(n,t.children.indexOf(n),t)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Vt={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Yl(r,e,t,n){const i=n.schema,o=i.space==="svg"?!1:n.settings.omitOptionalTags;let s=i.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(r.tagName.toLowerCase());const l=[];let a;i.space==="html"&&r.tagName==="svg"&&(n.schema=Fi);const c=Xl(n,r.properties),u=n.all(i.space==="html"&&r.tagName==="template"?r.content:r);return n.schema=i,u&&(s=!1),(c||!o||!Wl(r,e,t))&&(l.push("<",r.tagName,c?" "+c:""),s&&(i.space==="svg"||n.settings.closeSelfClosing)&&(a=c.charAt(c.length-1),(!n.settings.tightSelfClosing||a==="/"||a&&a!=='"'&&a!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(u),!s&&(!o||!er(r,e,t))&&l.push("</"+r.tagName+">"),l.join("")}function Xl(r,e){const t=[];let n=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const o=Ql(r,i,e[i]);o&&t.push(o)}}for(;++n<t.length;){const o=r.settings.tightAttributes?t[n].charAt(t[n].length-1):void 0;n!==t.length-1&&o!=='"'&&o!=="'"&&(t[n]+=" ")}return t.join("")}function Ql(r,e,t){const n=ll(r.schema,e),i=r.settings.allowParseErrors&&r.schema.space==="html"?0:1,o=r.settings.allowDangerousCharacters?0:1;let s=r.quote,l;if(n.overloadedBoolean&&(t===n.attribute||t==="")?t=!0:(n.boolean||n.overloadedBoolean&&typeof t!="string")&&(t=!!t),t==null||t===!1||typeof t=="number"&&Number.isNaN(t))return"";const a=Qe(n.attribute,Object.assign({},r.settings.characterReferences,{subset:Vt.name[i][o]}));return t===!0||(t=Array.isArray(t)?(n.commaSeparated?El:Al)(t,{padLeft:!r.settings.tightCommaSeparatedLists}):String(t),r.settings.collapseEmptyAttributes&&!t)?a:(r.settings.preferUnquoted&&(l=Qe(t,Object.assign({},r.settings.characterReferences,{attribute:!0,subset:Vt.unquoted[i][o]}))),l!==t&&(r.settings.quoteSmart&&Mr(t,s)>Mr(t,r.alternative)&&(s=r.alternative),l=s+Qe(t,Object.assign({},r.settings.characterReferences,{subset:(s==="'"?Vt.single:Vt.double)[i][o],attribute:!0}))+s),a+(l&&"="+l))}const Jl=["<","&"];function Wi(r,e,t,n){return t&&t.type==="element"&&(t.tagName==="script"||t.tagName==="style")?r.value:Qe(r.value,Object.assign({},n.settings.characterReferences,{subset:Jl}))}function Zl(r,e,t,n){return n.settings.allowDangerousHtml?r.value:Wi(r,e,t,n)}function ec(r,e,t,n){return n.all(r)}const tc=hl("type",{invalid:nc,unknown:rc,handlers:{comment:xl,doctype:Tl,element:Yl,raw:Zl,root:ec,text:Wi}});function nc(r){throw new Error("Expected node, not `"+r+"`")}function rc(r){const e=r;throw new Error("Cannot compile unknown node `"+e.type+"`")}const ic={},oc={},sc=[];function ac(r,e){const t=e||ic,n=t.quote||'"',i=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:lc,all:cc,settings:{omitOptionalTags:t.omitOptionalTags||!1,allowParseErrors:t.allowParseErrors||!1,allowDangerousCharacters:t.allowDangerousCharacters||!1,quoteSmart:t.quoteSmart||!1,preferUnquoted:t.preferUnquoted||!1,tightAttributes:t.tightAttributes||!1,upperDoctype:t.upperDoctype||!1,tightDoctype:t.tightDoctype||!1,bogusComments:t.bogusComments||!1,tightCommaSeparatedLists:t.tightCommaSeparatedLists||!1,tightSelfClosing:t.tightSelfClosing||!1,collapseEmptyAttributes:t.collapseEmptyAttributes||!1,allowDangerousHtml:t.allowDangerousHtml||!1,voids:t.voids||tl,characterReferences:t.characterReferences||oc,closeSelfClosing:t.closeSelfClosing||!1,closeEmptyElements:t.closeEmptyElements||!1},schema:t.space==="svg"?Fi:fl,quote:n,alternative:i}.one(Array.isArray(r)?{type:"root",children:r}:r,void 0,void 0)}function lc(r,e,t){return tc(r,e,t,this)}function cc(r){const e=[],t=r&&r.children||sc;let n=-1;for(;++n<t.length;)e[n]=this.one(t[n],n,r);return e.join("")}function uc(r,e,t){var o;const n={meta:{},options:t,codeToHast:(s,l)=>cn(r,s,l),codeToTokens:(s,l)=>an(r,s,l)};let i=ac(cn(r,e,t,n));for(const s of ln(t))i=((o=s.postprocess)==null?void 0:o.call(n,i,t))||i;return i}async function fc(r){let e,t;const n={};function i(f){t=f,n.HEAPU8=new Uint8Array(f),n.HEAPU32=new Uint32Array(f)}function o(){return typeof performance<"u"?performance.now():Date.now()}function s(f,g,m){n.HEAPU8.copyWithin(f,g,g+m)}function l(){return 2147483648}function a(f){try{return e.grow(f-t.byteLength+65535>>>16),i(e.buffer),1}catch{}}function c(f){const g=n.HEAPU8.length;f=f>>>0;const m=l();if(f>m)return!1;const v=(y,w)=>y+(w-y%w)%w;for(let y=1;y<=4;y*=2){let w=g*(1+.2/y);w=Math.min(w,f+100663296);const S=Math.min(m,v(Math.max(f,w),65536));if(a(S))return!0}return!1}const u={emscripten_get_now:o,emscripten_memcpy_big:s,emscripten_resize_heap:c,fd_write:()=>0};async function h(){const g=await r({env:u,wasi_snapshot_preview1:u});e=g.memory,i(e.buffer),Object.assign(n,g)}return await h(),n}let W=null,hc=!1;function dc(r){throw new X(r.UTF8ToString(r.getLastOnigError()))}class gn{constructor(e){p(this,"utf16Length");p(this,"utf8Length");p(this,"utf16Value");p(this,"utf8Value");p(this,"utf16OffsetToUtf8");p(this,"utf8OffsetToUtf16");const t=e.length,n=gn._utf8ByteLength(e),i=n!==t,o=i?new Uint32Array(t+1):null;i&&(o[t]=n);const s=i?new Uint32Array(n+1):null;i&&(s[n]=t);const l=new Uint8Array(n);let a=0;for(let c=0;c<t;c++){const u=e.charCodeAt(c);let h=u,f=!1;if(u>=55296&&u<=56319&&c+1<t){const g=e.charCodeAt(c+1);g>=56320&&g<=57343&&(h=(u-55296<<10)+65536|g-56320,f=!0)}i&&(o[c]=a,f&&(o[c+1]=a),h<=127?s[a+0]=c:h<=2047?(s[a+0]=c,s[a+1]=c):h<=65535?(s[a+0]=c,s[a+1]=c,s[a+2]=c):(s[a+0]=c,s[a+1]=c,s[a+2]=c,s[a+3]=c)),h<=127?l[a++]=h:h<=2047?(l[a++]=192|(h&1984)>>>6,l[a++]=128|(h&63)>>>0):h<=65535?(l[a++]=224|(h&61440)>>>12,l[a++]=128|(h&4032)>>>6,l[a++]=128|(h&63)>>>0):(l[a++]=240|(h&1835008)>>>18,l[a++]=128|(h&258048)>>>12,l[a++]=128|(h&4032)>>>6,l[a++]=128|(h&63)>>>0),f&&c++}this.utf16Length=t,this.utf8Length=n,this.utf16Value=e,this.utf8Value=l,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=s}static _utf8ByteLength(e){let t=0;for(let n=0,i=e.length;n<i;n++){const o=e.charCodeAt(n);let s=o,l=!1;if(o>=55296&&o<=56319&&n+1<i){const a=e.charCodeAt(n+1);a>=56320&&a<=57343&&(s=(o-55296<<10)+65536|a-56320,l=!0)}s<=127?t+=1:s<=2047?t+=2:s<=65535?t+=3:t+=4,l&&n++}return t}createString(e){const t=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}const Q=class Q{constructor(e){p(this,"id",++Q.LAST_ID);p(this,"_onigBinding");p(this,"content");p(this,"utf16Length");p(this,"utf8Length");p(this,"utf16OffsetToUtf8");p(this,"utf8OffsetToUtf16");p(this,"ptr");if(!W)throw new X("Must invoke loadWasm first.");this._onigBinding=W,this.content=e;const t=new gn(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!Q._sharedPtrInUse?(Q._sharedPtr||(Q._sharedPtr=W.omalloc(1e4)),Q._sharedPtrInUse=!0,W.HEAPU8.set(t.utf8Value,Q._sharedPtr),this.ptr=Q._sharedPtr):this.ptr=t.createString(W)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===Q._sharedPtr?Q._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};p(Q,"LAST_ID",0),p(Q,"_sharedPtr",0),p(Q,"_sharedPtrInUse",!1);let un=Q;class pc{constructor(e){p(this,"_onigBinding");p(this,"_ptr");if(!W)throw new X("Must invoke loadWasm first.");const t=[],n=[];for(let l=0,a=e.length;l<a;l++){const c=new gn(e[l]);t[l]=c.createString(W),n[l]=c.utf8Length}const i=W.omalloc(4*e.length);W.HEAPU32.set(t,i/4);const o=W.omalloc(4*e.length);W.HEAPU32.set(n,o/4);const s=W.createOnigScanner(i,o,e.length);for(let l=0,a=e.length;l<a;l++)W.ofree(t[l]);W.ofree(o),W.ofree(i),s===0&&dc(W),this._onigBinding=W,this._ptr=s}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,t,n){let i=hc,o=0;if(typeof n=="number"?(n&8&&(i=!0),o=n):typeof n=="boolean"&&(i=n),typeof e=="string"){e=new un(e);const s=this._findNextMatchSync(e,t,i,o);return e.dispose(),s}return this._findNextMatchSync(e,t,i,o)}_findNextMatchSync(e,t,n,i){const o=this._onigBinding;let s;if(n?s=o.findNextOnigScannerMatchDbg(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),i):s=o.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),i),s===0)return null;const l=o.HEAPU32;let a=s/4;const c=l[a++],u=l[a++],h=[];for(let f=0;f<u;f++){const g=e.convertUtf8OffsetToUtf16(l[a++]),m=e.convertUtf8OffsetToUtf16(l[a++]);h[f]={start:g,end:m,length:m-g}}return{index:c,captureIndices:h}}}function gc(r){return typeof r.instantiator=="function"}function mc(r){return typeof r.default=="function"}function vc(r){return typeof r.data<"u"}function yc(r){return typeof Response<"u"&&r instanceof Response}function bc(r){return typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||ArrayBuffer.isView(r))||typeof Buffer<"u"&&Buffer.isBuffer(r)||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&r instanceof Uint32Array}let Kt;function Hi(r){if(Kt)return Kt;async function e(){W=await fc(async t=>{let n=r;return n=await n,typeof n=="function"&&(n=await n(t)),typeof n=="function"&&(n=await n(t)),gc(n)?n=await n.instantiator(t):mc(n)?n=await n.default(t):(vc(n)&&(n=n.data),yc(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await Cc(n)(t):n=await _c(n)(t):bc(n)&&(n=await wc(n)(t))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return Kt=e(),Kt}function wc(r){return e=>WebAssembly.instantiate(r,e)}function Cc(r){return e=>WebAssembly.instantiateStreaming(r,e)}function _c(r){return async e=>{const t=await r.arrayBuffer();return WebAssembly.instantiate(t,e)}}function Sc(r){return new un(r)}function xc(r){return new pc(r)}const jr={light:"#333333",dark:"#bbbbbb"},$r={light:"#fffffe",dark:"#1e1e1e"},Ur="__shiki_resolved";function zi(r){var l,a,c,u,h;if(r!=null&&r[Ur])return r;const e={...r};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:t,fg:n}=e;if(!t||!n){const f=e.settings?e.settings.find(g=>!g.name&&!g.scope):void 0;(l=f==null?void 0:f.settings)!=null&&l.foreground&&(n=f.settings.foreground),(a=f==null?void 0:f.settings)!=null&&a.background&&(t=f.settings.background),!n&&((c=e==null?void 0:e.colors)!=null&&c["editor.foreground"])&&(n=e.colors["editor.foreground"]),!t&&((u=e==null?void 0:e.colors)!=null&&u["editor.background"])&&(t=e.colors["editor.background"]),n||(n=e.type==="light"?jr.light:jr.dark),t||(t=e.type==="light"?$r.light:$r.dark),e.fg=n,e.bg=t}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const o=new Map;function s(f){var m;if(o.has(f))return o.get(f);i+=1;const g=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return(m=e.colorReplacements)!=null&&m[`#${g}`]?s(f):(o.set(f,g),g)}e.settings=e.settings.map(f=>{var y,w;const g=((y=f.settings)==null?void 0:y.foreground)&&!f.settings.foreground.startsWith("#"),m=((w=f.settings)==null?void 0:w.background)&&!f.settings.background.startsWith("#");if(!g&&!m)return f;const v={...f,settings:{...f.settings}};if(g){const S=s(f.settings.foreground);e.colorReplacements[S]=f.settings.foreground,v.settings.foreground=S}if(m){const S=s(f.settings.background);e.colorReplacements[S]=f.settings.background,v.settings.background=S}return v});for(const f of Object.keys(e.colors||{}))if((f==="editor.foreground"||f==="editor.background"||f.startsWith("terminal.ansi"))&&!((h=e.colors[f])!=null&&h.startsWith("#"))){const g=s(e.colors[f]);e.colorReplacements[g]=e.colors[f],e.colors[f]=g}return Object.defineProperty(e,Ur,{enumerable:!1,writable:!1,value:!0}),e}class Tc extends La{constructor(t,n,i,o={}){super(t);p(this,"_resolver");p(this,"_themes");p(this,"_langs");p(this,"_alias");p(this,"_resolvedThemes",{});p(this,"_resolvedGrammars",{});p(this,"_langMap",{});p(this,"_langGraph",new Map);p(this,"_textmateThemeCache",new WeakMap);p(this,"_loadedThemesCache",null);p(this,"_loadedLanguagesCache",null);this._resolver=t,this._themes=n,this._langs=i,this._alias=o,n.forEach(s=>this.loadTheme(s)),i.forEach(s=>this.loadLanguage(s))}getTheme(t){return typeof t=="string"?this._resolvedThemes[t]:this.loadTheme(t)}loadTheme(t){const n=zi(t);return n.name&&(this._resolvedThemes[n.name]=n,this._loadedThemesCache=null),n}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=Object.keys(this._resolvedThemes)),this._loadedThemesCache}setTheme(t){let n=this._textmateThemeCache.get(t);n||(n=on.createFromRawTheme(t),this._textmateThemeCache.set(t,n)),this._syncRegistry.setTheme(n)}getGrammar(t){if(this._alias[t]){const n=new Set([t]);for(;this._alias[t];){if(t=this._alias[t],n.has(t))throw new X(`Circular alias \`${Array.from(n).join(" -> ")} -> ${t}\``);n.add(t)}}return this._resolvedGrammars[t]}async loadLanguage(t){var s,l,a,c;if(this.getGrammar(t.name))return;const n=new Set(Object.values(this._langMap).filter(u=>{var h;return(h=u.embeddedLangsLazy)==null?void 0:h.includes(t.name)}));this._resolver.addLanguage(t);const i={balancedBracketSelectors:t.balancedBracketSelectors||["*"],unbalancedBracketSelectors:t.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(t.scopeName,t);const o=await this.loadGrammarWithConfiguration(t.scopeName,1,i);if(this._resolvedGrammars[t.name]=o,t.aliases&&t.aliases.forEach(u=>{this._alias[u]=t.name}),this._loadedLanguagesCache=null,n.size)for(const u of n)delete this._resolvedGrammars[u.name],this._loadedLanguagesCache=null,(l=(s=this._syncRegistry)==null?void 0:s._injectionGrammars)==null||l.delete(u.scopeName),(c=(a=this._syncRegistry)==null?void 0:a._grammars)==null||c.delete(u.scopeName),await this.loadLanguage(this._langMap[u.name])}async init(){this._themes.map(t=>this.loadTheme(t)),await this.loadLanguages(this._langs)}async loadLanguages(t){for(const o of t)this.resolveEmbeddedLanguages(o);const n=Array.from(this._langGraph.entries()),i=n.filter(([o,s])=>!s);if(i.length){const o=n.filter(([s,l])=>{var a;return l&&((a=l.embeddedLangs)==null?void 0:a.some(c=>i.map(([u])=>u).includes(c)))}).filter(s=>!i.includes(s));throw new X(`Missing languages ${i.map(([s])=>`\`${s}\``).join(", ")}, required by ${o.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[o,s]of n)this._resolver.addLanguage(s);for(const[o,s]of n)await this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=Object.keys({...this._resolvedGrammars,...this._alias})),this._loadedLanguagesCache}resolveEmbeddedLanguages(t){if(this._langMap[t.name]=t,this._langGraph.set(t.name,t),t.embeddedLangs)for(const n of t.embeddedLangs)this._langGraph.set(n,this._langMap[n])}}class Ec{constructor(e,t){p(this,"_langs",new Map);p(this,"_scopeToLang",new Map);p(this,"_injections",new Map);p(this,"_onigLibPromise");this._onigLibPromise=e,t.forEach(n=>this.addLanguage(n))}get onigLib(){return this._onigLibPromise}getLangRegistration(e){return this._langs.get(e)}async loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(t=>{this._langs.set(t,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(t=>{this._injections.get(t)||this._injections.set(t,[]),this._injections.get(t).push(e.scopeName)})}getInjections(e){const t=e.split(".");let n=[];for(let i=1;i<=t.length;i++){const o=t.slice(0,i).join(".");n=[...n,...this._injections.get(o)||[]]}return n}}let Ac;async function Rc(r={}){async function e(y){return Promise.resolve(typeof y=="function"?y():y).then(w=>w.default||w)}async function t(y){return Array.from(new Set((await Promise.all(y.filter(w=>!Na(w)).map(async w=>await e(w).then(S=>Array.isArray(S)?S:[S])))).flat()))}const n=r.loadWasm||Ac,[i,o]=await Promise.all([Promise.all((r.themes||[]).map(e)).then(y=>y.map(zi)),t(r.langs||[]),n?Hi(n):void 0]),s=new Ec(Promise.resolve({createOnigScanner(y){return xc(y)},createOnigString(y){return Sc(y)}}),o),l=new Tc(s,i,o,r.langAlias);await l.init();let a;function c(y){const w=l.getGrammar(typeof y=="string"?y:y.name);if(!w)throw new X(`Language \`${y}\` not found, you may need to load it first`);return w}function u(y){if(y==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};const w=l.getTheme(y);if(!w)throw new X(`Theme \`${y}\` not found, you may need to load it first`);return w}function h(y){const w=u(y);a!==y&&(l.setTheme(w),a=y);const S=l.getColorMap();return{theme:w,colorMap:S}}function f(){return l.getLoadedThemes()}function g(){return l.getLoadedLanguages()}async function m(...y){await l.loadLanguages(await t(y))}async function v(...y){await Promise.all(y.map(async w=>Pa(w)?null:l.loadTheme(await e(w))))}return{setTheme:h,getTheme:u,getLanguage:c,getLoadedThemes:f,getLoadedLanguages:g,loadLanguage:m,loadTheme:v}}async function Oc(r={}){const e=await Rc(r);return{codeToTokensBase:(t,n)=>Qn(e,t,n),codeToTokensWithThemes:(t,n)=>Oi(e,t,n),codeToTokens:(t,n)=>an(e,t,n),codeToHast:(t,n)=>cn(e,t,n),codeToHtml:(t,n)=>uc(e,t,n),...e,getInternalContext:()=>e}}function fn(r,e){this.init(r,e)}fn.instance=function(r,e){return new fn(r,e)};fn.prototype={ID:"hit",init:function(r,e){typeof r=="string"?this.el=document.querySelector(r):this.el=r,this.getType(e)==="custom"?(this.highlight=e,this.generate()):console.error("valid config object not provided")},getType:function(r){let e=typeof r;if(r){if(Array.isArray(r))return r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"?"range":"array";if(e==="object"){if(r instanceof RegExp)return"regexp";if(r.hasOwnProperty("highlight"))return"custom"}else if(e==="function"||e==="string")return e}else return"falsey";return"other"},generate:function(){this.el.classList.add(this.ID+"-input",this.ID+"-content"),this.el.addEventListener("input",this.handleInput.bind(this)),this.el.addEventListener("scroll",this.handleScroll.bind(this)),this.highlights=document.createElement("div"),this.highlights.classList.add(this.ID+"-highlights",this.ID+"-content"),this.backdrop=document.createElement("div"),this.backdrop.classList.add(this.ID+"-backdrop"),this.backdrop.append(this.highlights),this.container=document.createElement("div"),this.container.classList.add(this.ID+"-container"),this.el.parentNode.insertBefore(this.container,this.el.nextSibling),this.container.append(this.backdrop),this.container.append(this.el),this.container.addEventListener("scroll",this.blockContainerScroll.bind(this)),this.handleInput()},handleInput:function(){let r=this.el.value,e=this.getRanges(r,this.highlight),t=this.removeStaggeredRanges(e),n=this.getBoundaries(t);this.renderMarks(n)},getRanges:function(r,e){switch(this.getType(e)){case"array":return this.getArrayRanges(r,e);case"function":return this.getFunctionRanges(r,e);case"regexp":return this.getRegExpRanges(r,e);case"string":return this.getStringRanges(r,e);case"range":return this.getRangeRanges(r,e);case"custom":return this.getCustomRanges(r,e);default:if(e)console.error("unrecognized highlight type");else return[]}},getArrayRanges:function(r,e){let t=e.map(this.getRanges.bind(this,r));return Array.prototype.concat.apply([],t)},getFunctionRanges:function(r,e){return this.getRanges(r,e(r))},getRegExpRanges:function(r,e){let t=[],n;for(;(n=e.exec(r),n!==null)&&(t.push([n.index,n.index+n[0].length]),!!e.global););return t},getStringRanges:function(r,e){let t=[],n=r.toLowerCase(),i=e.toLowerCase(),o=0;for(;o=n.indexOf(i,o),o!==-1;)t.push([o,o+i.length]),o+=i.length;return t},getRangeRanges:function(r,e){return[e]},getCustomRanges:function(r,e){let t=this.getRanges(r,e.highlight);return e.className&&t.forEach(function(n){n.className?n.className=e.className+" "+n.className:n.className=e.className}),e.blank&&t.forEach(function(n){n.blank=e.blank}),t},removeStaggeredRanges:function(r){let e=[];return r.forEach(function(t){e.some(function(i){let o=t[0]>i[0]&&t[0]<i[1],s=t[1]>i[0]&&t[1]<i[1];return o!==s})||e.push(t)}),e},getBoundaries:function(r){let e=[];return r.forEach(function(t){e.push({type:"start",index:t[0],className:t.className,blank:t.blank}),e.push({type:"stop",index:t[1]})}),this.sortBoundaries(e),e},sortBoundaries:function(r){r.sort(function(e,t){return e.index!==t.index?t.index-e.index:e.type==="stop"&&t.type==="start"?1:e.type==="start"&&t.type==="stop"?-1:0})},renderMarks:function(r){let e=this.el.value;const t=e;r.forEach(function(n,i){let o;n.type==="start"?o="{{hit-mark-start|"+i+"}}":o="{{hit-mark-stop}}",e=e.slice(0,n.index)+o+e.slice(n.index)}),e=e.replace(/\n({{hit-mark-stop}})?$/,`

$1`),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/{{hit-mark-start\|(\d+)}}/g,function(n,i){const o=r[+i].className;if(o){let s='<mark class="'+o+'"';if(o==="word"){let l=t.slice(r[+i].index,r[+i-1].index);l=l.replace(/"/g,"&quot;"),s+=' data-word="'+l+'"'}return s+">"}else return"<mark>"}),e=e.replace(/{{hit-mark-stop}}/g,"</mark>"),e+='<mark class="placeholder"> ⚡ </mark>',this.highlights.innerHTML=e,this.el.dispatchEvent(new CustomEvent("highlights-updated"))},handleScroll:function(){this.backdrop.scrollTop=this.el.scrollTop;let r=this.el.scrollLeft;r>0?this.backdrop.style.transform="translateX("+-r+"px)":this.backdrop.style.transform=""},blockContainerScroll:function(){this.container.scrollLeft=0},destroy:function(){this.container.parentElement.replaceChild(this.el,this.container),this.el.classList.remove(this.ID+"-content",this.ID+"-input")}};const tr=angular.element(window.top.document.body).scope(),ue=tr.iframeScope,Ue=document.querySelector("#ct-artificial-viewport");let qi=null;(async()=>(await Hi(Ut(()=>import("./onig-7m9tZVAH.js"),[],import.meta.url)),qi=await Oc({themes:[Ut(()=>import("./dark-plus-KEYLhlmT.js"),[],import.meta.url),Ut(()=>import("./light-plus-BsvsQ1iS.js"),[],import.meta.url)],langs:[Ut(()=>import("./css-CbYhyuC0.js"),[],import.meta.url)]})))();const J=document.createRange().createContextualFragment(`
    <textarea id="oxybender-plc-input" class="oxybender-plc-input" rows="2" spellcheck="false"></textarea>
`).querySelector("#oxybender-plc-input"),Vi=document.createRange().createContextualFragment(`
    <div class="oxybender-plc-action-container">
        <div class="actions">
        </div>
    </div>
`).querySelector(".oxybender-plc-action-container"),Lc=Vi.querySelector(".actions"),Ki=document.createRange().createContextualFragment(`
        <span id="oxybender-plc-class-sort" class="oxygen-svg-wrapper oxybender-plc-class-sort">
            <svg  xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round" class="oxygen-svg icon icon-tabler icons-tabler-outline icon-tabler-reorder"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M17 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M5 11v-3a3 3 0 0 1 3 -3h8a3 3 0 0 1 3 3v3" /><path d="M16.5 8.5l2.5 2.5l2.5 -2.5" /></svg>    
        </span>
`).querySelector("#oxybender-plc-class-sort");Lc.appendChild(Ki);const Yi=Hr(!1),nr=Hr(null);let jn=null,$n=[];(async()=>{if(Ue.contentWindow.tailwind){const r=Ue.contentWindow.tailwind;jn=await r.resolveConfig(r.config);let e=Object.keys(r.colors).filter(n=>typeof r.colors[n]=="object"&&r.colors[n][500]!==void 0&&!["slate","gray","zinc","neutral","stone","warmGray","trueGray","coolGray","blueGray"].includes(n));e=e.map(n=>({name:n,value:r.colors[n][500]})),e.sort(()=>Math.random()-.5);let t=Object.keys(jn.theme.screens);for(let n=0;n<t.length;n++)$n.push({screen:t[n],color:e[n].value})}})();let Xi=null;Yn(J);let Qi=[];wp.hooks.addAction("oxybender-autocomplete-items-refresh","oxybender",()=>{Qi=wp.hooks.applyFilters("oxybender-autocomplete-items",[],J.value)});wp.hooks.doAction("oxybender-autocomplete-items-refresh");const it=new Ie({containerClass:"oxybender-tribute-container",autocompleteMode:!0,menuItemLimit:40,noMatchTemplate:"",values:async function(r,e){const t=await wp.hooks.applyFilters("oxybender-autocomplete-items-query",Qi,r);e(t)},lookup:"value",itemClass:"class-item",menuItemTemplate:function(r){let e="";return r.original.color!==void 0&&(e+=`background-color: ${r.original.color};`),r.original.fontWeight!==void 0&&(e+=`font-weight: ${r.original.fontWeight};`),`
            <span class="class-name" data-tribute-class-name="${r.original.value}">${r.string}</span>
            <span class="class-hint" style="${e}"></span>
        `}});it.setMenuContainer=function(r){this.menuContainer=r};const kc=it.events.callbacks;it.events.callbacks=function(){return{...kc.call(this),up:(r,e)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){r.preventDefault(),r.stopPropagation();let t=this.tribute.current.filteredItems.length,n=this.tribute.menuSelected;t>n&&n>0?(this.tribute.menuSelected--,this.setActiveLi()):n===0&&(this.tribute.menuSelected=t-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight),Wr()}},down:(r,e)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){r.preventDefault(),r.stopPropagation();let t=this.tribute.current.filteredItems.length-1,n=this.tribute.menuSelected;t>n?(this.tribute.menuSelected++,this.setActiveLi()):t===n&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0),Wr()}}}};it.attach(J);const Nc=new MutationObserver(function(r){Yi.value=!r[0].target.classList.contains("ng-hide")});Nc.observe(document.querySelector(".oxygen-sidebar-currently-editing"),{attributes:!0,attributeFilter:["class"]});const Pc=ue.activateComponent;ue.activateComponent=function(r,e,t){Pc(r,e,t),nr.value=ue.component.active.id};function Ji(r){const e=ue.component.active.id,t=ue.component.active.name;if(e===0)return;const n=ue.component.options[e];if(n.model===void 0)return;n.model["custom-attributes"]===void 0&&tr.addCustomAttribute("plainclass",r);const i=n.model["custom-attributes"],o=i.find(s=>s.name==="plainclass");o?o.value=r:i.push({name:"plainclass",value:r}),ue.component.options[e].model["custom-attributes"]=i,ue.setOption(e,t,"custom-attributes"),ue.applyCustomAttributes(e)}fo([nr,Yi],(r,e)=>{r[0]!==e[0]&&yt(()=>{var o;const t=ue.component.active.id;if(t===0)return;const n=ue.component.options[t];if(n.model===void 0)return;n.model["custom-attributes"]===void 0&&tr.addCustomAttribute("plainclass","");const i=n.model["custom-attributes"];J.value=((o=i==null?void 0:i.find(s=>s.name==="plainclass"))==null?void 0:o.value)||"",Zi()}),r[0]&&r[1]&&yt(()=>{const t=document.querySelector(".oxygen-sidebar-currently-editing");t.querySelector(".oxybender-plc-input")===null&&(t.appendChild(Vi),window.tippy(".oxybender-plc-class-sort",{content:"Automatic Class Sorting",animation:"shift-toward",placement:"right"}),t.appendChild(J),Xi=new fn(J,{highlight:[{highlight:new RegExp("(?<=\\s|^)(?:(?!\\s).)+(?=\\s|$)","g"),className:"word"},{highlight:new RegExp("(?<=\\s)\\s","g"),className:"multispace",blank:!0}]}),Yn.update(J))})});J.addEventListener("input",function(r){Ji(r.target.value)});function Zi(){yt(()=>{try{Xi.handleInput()}catch{}Yn.update(J),it.hideMenu()})}J.addEventListener("highlights-updated",function(r){Mc(),Ic()});function Ic(){var i,o,s;if(((s=(o=(i=Ue.contentWindow.siul)==null?void 0:i.loaded)==null?void 0:o.module)==null?void 0:s.classNameToCss)!==!0)return;let r=!1,e=[],t=null;const n=document.querySelector(".hit-container");n!==null&&(n.addEventListener("mousemove",function(l){const a=l.clientX,c=l.clientY;if(document.elementsFromPoint(a,c).some(m=>{if(m.matches('mark[class="word"]'))return t=m,!0})||(t=null),t===null){if(r===!1)return;r=!1,e.forEach(m=>{m.destroy()}),e=[];return}if(r===t.textContent)return;e.forEach(m=>{m.destroy()}),e=[];const f=Ue.contentWindow.siul.module.classNameToCss.generate(t.textContent);if(f===null)return null;r=t.textContent;const g=At(t,{plugins:[Gs],allowHTML:!0,arrow:!1,duration:[500,null],followCursor:!0,trigger:"manual",content:m=>qi.codeToHtml(f,{lang:"css",theme:"dark-plus"})});g.show(),e.push(g),t=null}),n.addEventListener("mouseleave",function(l){r=!1,e.forEach(a=>{a.destroy()}),e=[]}))}function Mc(){if(jn===null||$n.length===0)return;document.querySelectorAll('.hit-backdrop>.hit-highlights.hit-content>mark[class="word"]').forEach(e=>{const t=e.textContent;$n.forEach(n=>{if(t.includes(n.screen+":")){const i=`color-mix(in srgb, ${n.color} 20%, white 1%)`;e.style.backgroundColor=i,e.style.outlineColor=i}})})}const Dc=new MutationObserver(function(r){r.forEach(function(e){e.type==="childList"&&e.addedNodes.length>0&&e.addedNodes.forEach(t=>{t.addEventListener("mouseenter",n=>{const i=t.querySelector(".class-name").dataset.tributeClassName;eo(i)}),t.addEventListener("mouseleave",n=>{Gr()}),t.addEventListener("click",n=>{Gr()})})})});let Yt=null;J.addEventListener("tribute-active-true",function(r){Yt===null&&(Yt=document.querySelector(".oxybender-tribute-container>ul")),yt(()=>{Yt&&Dc.observe(Yt,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})})});Ki.addEventListener("click",function(r){var e,t,n;((n=(t=(e=Ue.contentWindow.siul)==null?void 0:e.loaded)==null?void 0:t.module)==null?void 0:n.classSorter)===!0&&(J.value=Ue.contentWindow.siul.module.classSorter.sort(J.value),Ji(J.value),Zi())});function eo(r){to({action:"oxybender-preview-class",do:"add",elementId:nr.value,className:r})}function Gr(){to({action:"oxybender-preview-class",do:"remove"})}function Wr(){yt(()=>{let r=it.menu.querySelector("li.highlight>span.class-name");eo(r.dataset.tributeClassName)})}function to(r){Ue.contentWindow.postMessage(r,"*")}uo("Module loaded!",{module:"plain-classes"});
