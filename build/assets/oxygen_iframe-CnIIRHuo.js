const o=new MutationObserver(function(e){e.forEach(function(s){if(s.type==="attributes"){const i=s.attributeName;if(i!=="class"&&i!=="plainclass")return;const a=s.target,n=(s.oldValue||"").split(/\s+/).filter(t=>t!==""),c=a.getAttribute(i).split(/\s+/).filter(t=>t!=="");i==="plainclass"?(n.forEach(function(t){c.includes(t)||a.classList.remove(t)}),c.forEach(function(t){n.includes(t)||a.classList.add(t)})):i==="class"&&a.hasAttribute("plainclass")&&a.getAttribute("plainclass").split(/\s+/).filter(l=>l!=="").forEach(function(l){c.includes(l)||a.classList.add(l)})}})});o.observe(document.body,{attributes:!0,subtree:!0,attributeFilter:["class","plainclass"],attributeOldValue:!0});window.addEventListener("message",function(e){var s;if(((s=e.data)==null?void 0:s.action)==="oxybender-preview-class"){if(e.data.do==="remove")r();else if(e.data.do==="add"){const i=document.querySelector(`[ng-attr-component-id="${e.data.elementId}"]`);i&&(r(),u(i,e.data.className))}}});function u(e,s){e.setAttribute("previewclass",s),e.classList.add(s)}function d(e){if(!e.hasAttribute("previewclass")||e.getAttribute("previewclass")==="")return;const s=e.getAttribute("previewclass");e.removeAttribute("previewclass"),!(e.hasAttribute("plainclass")&&e.getAttribute("plainclass").split(/\s+/).filter(a=>a!=="").includes(s))&&e.classList.remove(s)}function r(){document.querySelectorAll("[ng-attr-component-id]").forEach(function(s){d(s)})}
